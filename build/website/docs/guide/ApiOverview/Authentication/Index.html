<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="authentication">
    <h1>Authentication</h1>
            <p>The TYPO3 Core uses Services for the authentication process.
This family of services (of type &quot;auth&quot;) are the only Core usage that consumes the
Services API.</p>
            <p>The aim of this chapter is to describe the authentication
services so that developers feel confident about writing
their own.</p>
            <div class="phpdocumentor-admonition -seealso">
                        <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
        <article>
        

<ul>
    <li>authentication-request-token</li>
    <li>multi-factor-authentication</li>
</ul>

    </article>
</div>
            <a id="authentication-why-services"></a>
    </div>
<div class="section" id="why-use-services">
    <h1>Why Use Services?</h1>
            <p>Services provide the flexibility needed for such a complex
process of authentication, where many methods may be desirable
(single sign-on, IP-based authentication, third-party servers
such as LDAP, etc.) depending on the context.</p>
            <p>The ease with which such services can be developed is a strong
point in favor of TYPO3, especially in corporate environments.</p>
            <p>Being able to toy with priority and quality allows for
precise fine-tuning of the authentication chain.</p>
            <p>Alternative services are available in the TYPO3 Extension Repository.
It is thus possible to find solutions for using LDAP as an
authentication server, for example.</p>
            <p>You can check which authentication services are installed
using the System  Reports  Installed Services
view:</p>
            <figure>
    <img
    src="./Images/AutomaticScreenshots/Authentication/InstalledAuthServices.png"
                        />

            
                    <figcaption><p>All installed authentication services and their priority</p>
</figcaption>
            </figure>

            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>For the Reports module to be visible, the system extension
reports has to be installed. You can install it via Composer:</p>
<pre><code class="language-console">composer require typo3/cms-reports</code></pre>

    </article>
</div>
            <a id="authentication-process"></a>
    </div>
<div class="section" id="the-authentication-process">
    <h1>The Authentication Process</h1>
            <p>The authentication process is not managed entirely by services.
It is handled essentially by class
\TYPO3\CMS\Core\Authentication\BackendUserAuthentication
for the backend (BE) and by class
\TYPO3\CMS\Frontend\Authentication\FrontendUserAuthentication
for the frontend (FE), which both inherit from class
\TYPO3\CMS\Core\Authentication\AbstractUserAuthentication.
These classes are called by the
bootstrapping process.
They manage the workflow of the authentication process.
Services are used strictly to identify and validate
users based on whatever form of credentials a given service
relies on (by default, a username and a password).</p>
            <p>The authentication process kicks in on every page request,
be it in the FE or the BE. However if a valid session already exists,
that session is kept. Strictly speaking, no authentication
is performed in such a case.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>When no session exists, the authentication process is triggered
by a login request. In the frontend, this happens when a form field
called logintype is submitted with value login. The same
happens for the backend, but with a form field called login_status.</p>
<dl>
                        <dt>A CSRF-like request token handling</dt>
        
        <dd>is in place to mitigate potential cross-site requests on actions with
side effects</dd>    </dl>

    </article>
</div>
            <dl>
                        <dt><a href="https://jwt.io/">JSON Web Tokens (JWT)</a> are used to transport user</dt>
        
        <dd>session identifiers in be_typo_user and fe_typo_user cookies.</dd>    </dl>
            <p>Using JWT&#039;s HS256 (HMAC signed based on SHA256) allows to determine whether a
session cookie is valid before comparing with server-side stored session data.
This enhances the overall performance a bit, since sessions cookies would be
checked for every request to TYPO3&#039;s backend and frontend.</p>
            <p>The session cookies can be pre-validated without querying the database, which
can filter invalid requests and might improve overall performance a bit.</p>
            <p>As a consequence session tokens are not sent &quot;as is&quot;, but are wrapped in a
corresponding JWT message, which contains the following payload:</p>
            

<ul>
    <li>identifier reflects the actual session identifier</li>
    <li>time reflects the time of creating the cookie (RFC 3339 format)</li>
</ul>
            <a id="authentication-data"></a>
    </div>
<div class="section" id="the-login-data">
    <h1>The login data</h1>
            <p>There is a typical set of data that is transmitted to authentication
service in order to enable them to do their work:</p>
            <dl>
                        <dt>uname</dt>
        
        <dd>This is the user name. This can be whatever makes sense for the
available authentication services. For the default service, this
will match data from the &quot;username&quot; column of the &quot;be_users&quot; or
&quot;fe_users&quot; table for BE or FE authentication respectively.</dd>                        <dt>uident</dt>
        
        <dd>This is the password, possibly encrypted.</dd>                        <dt>uident_text</dt>
        
        <dd>This is the clear text value of the password. If the password is
originally submitted in clear text, both &quot;uident&quot; and &quot;uident_text&quot;
contain the same value.</dd>    </dl>
            <p>Inside an authentication service, this data is available in
$this-login.</p>
            <a id="authentication-api"></a>
    </div>
<div class="section" id="the-auth-services-api">
    <h1>The &quot;auth&quot; services API</h1>
            <p>The services of type &quot;auth&quot; are further divided into subtypes,
which correspond to various steps in the authentication process.
Most subtypes exist for both FE and BE and are differentiated
accordingly.</p>
            <p>To each subtype corresponds a part of the &quot;auth&quot; services public
API. They are listed below in the order in which they are called
during the authentication process.</p>
            <dl>
                        <dt>processLoginDataBE, processLoginDataFE</dt>
        
        <dd><p>This subtype performs preprocessing on the submitted
login data.</p><p>The method to implement is processLoginData().
It receives as argument the login data and the password
transmission strategy (which corresponds to the login security
level, where only &#039;normal&#039; can be used.
It returns the boolean value true,
when the login data has been successfully processed .</p><p>It may also return a numerical value equal to 200 or greater,
which indicates that no further login data processing should
take place (see The service chain).</p><p>In particular, this subtype is implemented by the TYPO3 Core
AuthenticationService, which trims the given login data.</p></dd>                        <dt>getUserFE, getUserBE</dt>
        
        <dd>This subtype corresponds to the operation of searching in the
database if the credentials that were given correspond to an
existing user. The method to implement is getUser().
It is expected to return an array containing the user information
or false if no user was found.</dd>                        <dt>authUserFE, authUserBE</dt>
        
        <dd>This subtype performs the actual authentication based on the
provided credentials. The method to implement is authUser().
It receives the user information (as returned by getUser())
as an input and is expected to return a numerical value,
which is described later.</dd>    </dl>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>Before any of the above-mentioned methods are called, the authentication
process will call the initAuth() method of each service. This
sets up a lot of data for the service. It also makes it possible to
override part of the default settings with
service-specific options.</p>
<p>This represents very advanced tuning and is not described here.
Please refer to
\TYPO3\CMS\Core\Authentication\AbstractAuthenticationService::initAuth()
to learn more about the possibilities offered during authentication services
initialization.</p>

    </article>
</div>
            <a id="authentication-service-chain"></a>
    </div>
<div class="section" id="the-service-chain">
    <h1>The service chain</h1>
            <p>No matter what subtype, authentication services are always called
in a chain. This means that
<strong>all</strong> registered &quot;auth&quot; services will be called, in order of
decreasing priority and quality.</p>
            <p>However, for some subtypes, there are ways to stop the chain.</p>
            <p>For &quot;processLoginDataBE&quot; and &quot;processLoginDataFE&quot; subtypes, the
processLoginData()
method may return a numerical value of 200 or more. In such a case
no further services are called and login data is not further
processed. This makes it possible for a service to perform
a form of final transformation on the login data.</p>
            <p>For &quot;authUserFE&quot; and &quot;authUserBE&quot; subtypes, the authUser() method may
return different values:</p>
            <div class="phpdocumentor-admonition -warning">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>Previously, there was an error in the documentation. It did not match
the actual behaviour. This has now been fixed. For details, see
91993.</p>

    </article>
</div>
            

<ul>
    <li class="dash">a negative value or 0 (&lt;=0) indicates that the authentication has
definitely <strong>failed</strong> and that no other &quot;auth&quot; service should be
called up.</li>
    <li class="dash">a value larger than 0 and smaller than 100 indicates that the authentication
was <strong>successful</strong>, but that further services should also perform their
own authentication.</li>
    <li class="dash">a value of 100 or more (&gt;= 100) indicates that the user was <strong>not authenticated</strong>,
this service is not responsible for the authentication and that further
services should authenticate.</li>
    <li class="dash">a value of 200 or more (&gt;=200) indicates that the authentication was <strong>successful</strong>
and that <strong>no further tries</strong> should be made by other services down
the chain.</li>
</ul>
            <table>
            <thead>
                            <tr>
                                            <th></th>
                                            <th>auth failed</th>
                                            <th>auth success</th>
                                            <th>no auth</th>
                                    </tr>
                    </thead>
    
    <tbody>
                    <tr>
                                    <td>continue</td>
                                    <td></td>
                                    <td>1..99</td>
                                    <td>100..199</td>
                            </tr>
                    <tr>
                                    <td>stop</td>
                                    <td>&lt;= 0</td>
                                    <td>&gt;= 200</td>
                                    <td></td>
                            </tr>
                    <tr>
                                    <td colspan="4">or &quot;getUserFE&quot; and &quot;getUserBE&quot; subtypes, the logic is rev
he service chain will stop as soon as one user is found.
. index\TYPO3\CMS\Core\Crypto\Random::generateRandomHexS
which can be used for such a purpose.
or the :php:authUser()` method, you will want to take ca
bout the return values. If your service should be the fin
uthority for authentication, it should not only have a hi
ut also return values which stop the service chain (i.e.
negative value for failed authentication, 200 or more fo
uccessful one). On the other hand, if your service is an
uthentication, but should fall back on TYPO3 if unavailab
ou will want to return 100 on failure, so that the defaul
an take over.
hings can get a bit hairy if you have a scenario with mix
or example some users come from a third-party server but
xist only in TYPO3. In such a case, you want to make sure
our service returns definite authentication failures only
sers which depend on the remote system and let the defaul
uthentication proceed for &quot;local&quot; TYPO3 users.
. _authentication-advanced-options:
dvanced Options
===============
here are some special configuration options which can be
o modify the behaviour of the authentication process. Som
mpact the inner working of the services themselves, other
nfluence when services are called.
t is possible to force TYPO3 to go through the
uthentication process for <strong>every</strong> request no matter any
xisting session. By setting the following local configura
ither for the FE or the BE:
. code-block:: php
:caption: config/system/additional.php  typo3conf/syste
$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SVCONF&#039;][&#039;auth&#039;][&#039;setup&#039;][
$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SVCONF&#039;][&#039;auth&#039;][&#039;setup&#039;][
. note::
This could be used in a scenario where users go through
and then choose to access the TYPO3 backend, for exampl
we would want the users to be automatically authenticat
need to repeat the process upon each request.
he authentication process can also be forced to go throug
ll services for the &quot;getUser<em>&quot; subtype by setting:
. code-block:: php
:caption: config/system/additional.php | typo3conf/syste
$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SVCONF&#039;][&#039;auth&#039;][&#039;setup&#039;][
$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SVCONF&#039;][&#039;auth&#039;][&#039;setup&#039;][
or BE or FE respectively. This will collect all possible
topping at the first one available.
.  toctree::
:hidden:
:glob:
</em></td>
                            </tr>
            </tbody>
</table>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/Authentication/Index.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>