<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="caching">
    <h1>Caching</h1>
            <div class="section" id="caching-in-typo3">
    <h2>Caching in TYPO3</h2>
            <p>TYPO3 uses multiple caching strategies to ensure fast content delivery. Depending
on the content a page contains, TYPO3 chooses the best caching strategy for that use case.</p>
            <p>For example, you might have a fully-cacheable page, a page that is at least partially
cacheable or a page that is completely dynamic. Dynamic elements in TYPO3 are also known
as USER_INT or COA_INT objects - as these are the matching TypoScript objects used
to render non-cacheable content.</p>
            <p>When visiting a TYPO3 web site, TYPO3 knows the following states:</p>
            

<ul>
    <li class="dash">first time hit, page has never been rendered (&quot;cache miss&quot;)</li>
    <li class="dash">consecutive hit, page has been rendered before (&quot;cache hit&quot;)</li>
</ul>
            <p>In the first case, TYPO3 renders the complete page and writes cache entries as
configured. In the second case, TYPO3 fetches those entries from the cache and
delivers them to the user without re-triggering the rendering.</p>
            <p>In that second case, either the page is fully cached and directly delivered from
the cache, or the page has non-cacheable elements on it. If a page has non-cacheable
elements, TYPO3 first fetches the cached part of the page and then renders all
dynamic parts.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>The cache contains placeholders for dynamic elements to tell TYPO3 where to render
dynamic parts.</p>

    </article>
</div>
            <div class="phpdocumentor-admonition -hint">
                    <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <article>
        <p>For developers: If you are developing a plugin think about your plugin&#039;s cache lifetime.
Ideally, it can be fully cached, but if not, read the section about the caching framework
to learn how to leverage TYPO3&#039;s caching mechanism to cache your plugin for however long
you can - even 30 seconds might improve performance in some scenarios.</p>

    </article>
</div>
            <a id="chash"></a>
    </div>
            <div class="section" id="caching-variants-or-what-is-a-cache-hash">
    <h2>Caching Variants - or: What is a &quot;cache hash&quot;?</h2>
            <p>TYPO3 ideally delivers fully cached pages for maximum performance. However, in scenarios where
the same page will deliver different content depending on URL parameters, TYPO3 needs a possibility
to identify these &quot;variants&quot; and cache each of them differently. For example, if you have a
news plugin and a detail page, the detail page is different for every news entry.</p>
            <p>To identify the variant, TYPO3 combines a set of parameters and generates a hash value as identifier.
These parameters include by default:</p>
            

<ul>
    <li class="dash">id: The current page ID</li>
    <li class="dash">type: The current page type (typeNum)</li>
    <li class="dash">groupIds: The user groups of the logged in user (if no user is logged in: 0, -1 as default values)</li>
    <li class="dash">MP: The mount point identifier</li>
    <li class="dash">site: The current site and base URL</li>
    <li class="dash">staticRouteArguments: Any route argument configured in the routing configuration and resolved in the current request</li>
    <li class="dash">dynamicArguments$_GET parameters influencing the rendered page</li>
</ul>
            <p>Imagine the following URL https://example.org/news/?tx_example_news[id]=123 displaying the news with ID 123.
If TYPO3 would cache that page with that parameter without any security mechanisms, it would open a potential
denial of service attack as an unlimited amount of cache entries could be generated by adding arbitrary parameters.
To avoid that, TYPO3 generates a so-called cHash parameter, which is a hash that basically signs the valid parameters
for that request. So any parameter that validly influences the rendered page needs to be part of that cHash.</p>
            <p>With Routing you can configure TYPO3 not to display the cHash in your URLs in most cases.
Routing adds an explicit mapping of incoming readable URL slugs to internal parameter values.
This both adds an additional layer for validating slugs as well as reduces the parameters to a limited (and predictable) set of values.</p>
            <p>Various configuration options exist to configure the cHash behavior via
$GLOBALS['TYPO3_CONF_VARS']['FE']['cacheHash']
in the file config/system/settings.php or config/system/additional.php:</p>
            <blockquote><p><strong>Only</strong> the given parameters will be evaluated in the cHash calculation. Example: tx_news_pi1[uid]</p><blockquote><p>This option will lead to cache calculation being skipped for all parameters except the ones listed here.
Caching of pages will not be influenced by other parameters beyond the initial caching anymore.</p></blockquote></blockquote>
            <blockquote><p>Configure Parameters that require a cHash. If no cHash is given but one of the parameters
are set, then TYPO3 triggers the configured cHash Error behavior</p></blockquote>
            <blockquote><p>The given parameters will be ignored in the cHash calculation. Example: L,tx_search_pi1[query]</p></blockquote>
            <blockquote><p>Configure Parameters only being relevant for the cHash if there&#039;s an associated value available.
Set excludeAllEmptyParameters to true to skip all empty parameters.</p></blockquote>
            <blockquote><p>If true, all parameters which are relevant for cHash are only considered if they are non-empty.</p></blockquote>
            <blockquote><p>If this option is enabled, the same validation is used to calculate a &quot;cHash&quot;
value as when a valid or invalid &quot;cHash&quot; parameter is given to a request,
even when no &quot;cHash&quot; is given.</p></blockquote>
            <p>All properties can be configured with an array of values. Besides exact matches (<em>equals</em>) it is possible to apply partial matches at
the beginning of a parameter (<em>startsWith</em>) or inline occurrences (<em>contains</em>).</p>
            <p>URL parameter names are prefixed with the following indicators= (<em>equals</em>)^ (<em>startsWith</em>)~ (<em>contains</em>): matching any inline occurrence in a parameter name</p>
            <p>These indicators can be used for all previously existing sub-properties
cachedParametersWhiteList, excludedParameters, excludedParametersIfEmpty
and requireCacheHashPresenceParameters.</p>
    </div>
            <div class="section" id="example-excerpt-of-config-system-additional-php">
    <h2>Example (excerpt of config/system/additional.php)</h2>
            <pre><code class="language-php">$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;FE&#039;][&#039;cacheHash&#039;] = [
  &#039;excludedParameters&#039; =&gt; [
    &#039;utm_source&#039;,
    &#039;utm_medium&#039;,
  ],
  &#039;excludedParametersIfEmpty&#039; =&gt; [
    &#039;^tx_my_plugin[aspects]&#039;,
    &#039;tx_my_plugin[filter]&#039;,
  ],
];</code></pre>
            <p>For instance instead of having exclude items like</p>
            <pre><code class="language-php">&#039;excludedParameters&#039; =&gt; [
   &#039;tx_my[data][uid]&#039;,
   &#039;tx_my[data][category]&#039;,
   &#039;tx_my[data][order]&#039;,
   &#039;tx_my[data][origin]&#039;,
   ...
],</code></pre>
            <p>partial matches allow to simplify the configuration and consider all items having
tx_my[data] (or tx_my[data][ to be more specific) as prefix like</p>
            <pre><code class="language-php">&#039;excludedParameters&#039; =&gt; [
   &#039;^tx_my[data][&#039;,
   ...
],</code></pre>
    </div>
            <div class="section" id="clearing-flushing-and-warming-up-caches">
    <h2>Clearing/Flushing and warming up caches</h2>
            <p>TYPO3 provides different possibilities to clear all or specific caches.
Depending on the context, you might want to</p>
            

<ul>
    <li class="dash">clear the cache for a single page (for example to make changes visible)</li>
    <li class="dash">clear the frontend cache (for example after templating changes)</li>
    <li class="dash">clear all caches (for example during development, when making TypoScript changes)</li>
    <li class="dash">clear all caches incl. dependency injection (mainly useful during development)</li>
</ul>
            <p>Clearing the cache for a single page is done by using the &quot;clear cache button&quot;
on that page in the backend (usually visualized with a &quot;bolt&quot; icon). Depending on
user rights this option is available for editors.</p>
            <p>Clearing the frontend caches and all caches can be done via the system toolbar
in the TYPO3 backend. This option should only be available to administrators. Clearing
all caches can have a significant impact on the performance of the web site and
should be used sparingly on production systems.</p>
            <p>The &quot;fullest&quot; option to clear all caches can be reached via the
System Tools  Maintenance section. In the development context when
new classes have been added to the system or in case of problems with the system
using this cache clearing option will clear all caches including compiled code
like the dependency injection container.</p>
            <div class="section" id="clear-cache-command">
    <h3>Clear Cache Command</h3>
            <p>In addition to the GUI options explained above, caches can also be cleared
via a CLI command:</p>
            <pre><code class="language-bash">./typo3/sysext/core/bin/typo3 cache:flush</code></pre>
            <p>Specific cache groups can be defined via the group option.
The usage is described as this:</p>
            <pre><code class="language-bash">cache:flush [--group &lt;all|system|di|pages|...&gt;]</code></pre>
            <p>All available cache groups can be supplied as option. The command defaults to
flush all available cache groups as the System Tools  Maintenance area
does.</p>
            <p>Extensions that register custom caches may listen to the
via TYPO3\CMS\Core\Cache\Event\CacheFlushEvent, but usually the
cache flush via CacheManager groups will suffice to clear those caches, too.</p>
    </div>
            <div class="section" id="cache-warmup">
    <h3>Cache Warmup</h3>
            <p>It is possible to warmup TYPO3 caches using the command line.</p>
            <p>The administrator can use the following CLI command:</p>
            <pre><code class="language-bash">./typo3/sysext/core/bin/typo3 cache:warmup</code></pre>
            <p>Specific cache groups can be defined via the group option.
The usage is described as this:</p>
            <pre><code class="language-bash">cache:warmup [--group &lt;all|system|di|pages|...&gt;]</code></pre>
            <p>All available cache groups can be supplied as option. The command defaults to
warm all available cache groups.</p>
            <p>Extensions that register custom caches are encouraged to implement cache warmers
via TYPO3\CMS\Core\Cache\Event\CacheWarmupEvent.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>TYPO3 frontend caches will not be warmed by TYPO3 core, such functionality
could be added by third party extensions with the help of
TYPO3\CMS\Core\Cache\Event\CacheWarmupEvent.</p>

    </article>
</div>
    </div>
            <div class="section" id="use-case-deployment">
    <h3>Use Case - Deployment</h3>
            <p>It is often required to clear caches during deployment of TYPO3 instance.
The integrator may decide to flush all caches or may alternatively flush selected groups
(e.g. &#039;pages&#039;). It is common practice to clear <em>all</em> caches during deployment of a
TYPO3 instance update. This means that the first request after a deployment
usually takes a major amount of time and blocks other requests due to cache-locks.</p>
            <p>TYPO3 caches can now be warmed during deployment in release preparatory steps in
symlink based deployment/release procedures. The enables fast first requests
with all (or at least system) caches being prepared and warmed.</p>
            <p>Caches are often filesystem relevant (filepaths are calculated into cache
hashes), therefore cache warmup should only be performed on the the live system,
in the <em>final</em> folder of a new release, and ideally before switching
to that new release (via symlink switch).</p>
            <div class="phpdocumentor-admonition -warning">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>Caches that have been pre-created on the continuous integration server
will likely be useless as cache hashes will not match (as the final file system
path is relevant to the hash generation).</p>

    </article>
</div>
            <p>To summarize: Cache warmup is to be used during deployment, on the live system
server, inside the new release folder and before switching to the new release.</p>
            <p>An example deployment could consist of:</p>
            

<ul>
    <li>Before the release:
<em>  git-checkout/rsync your codebase to the continuous integration / build server
</em>  composer install on the continuous integration / build server
<em>  vendor/bin/typo3 cache:warmup --group system (</em>only* on the live system)</li>
    <li>Change release symlink to the new release folder</li>
    <li>After the release:
* vendor/bin/typo3 cache:flush --group pages</li>
</ul>
            <p>The conceptional idea is to warmup all file-related caches <em>before</em> (symlink)
switching to a new release and to <em>only</em> flush database and frontend (shared)
caches after the symlink switch. Database warmup could be implemented with
the help of the TYPO3\CMS\Core\Cache\Event\CacheWarmupEvent as an
additionally functionality by third party extensions.</p>
            <p>Note that file-related caches (summarized into the group &quot;system&quot;) can safely be
cleared before doing a release switch, as it is recommended to keep file caches
per release. In other words, share var/session, var/log,
var/lock and var/charset between releases, but keep
var/cache be associated only with one release.</p>
    </div>
    </div>
            <div class="section" id="caching-framework">
    <h2>Caching Framework</h2>
            <p>Since TYPO3 v4.3, the Core contains a data caching framework
which supports a wide variety of storage solutions and options
for different caching needs. Each cache can be configured individually
and can implement its own specific storage strategy.</p>
            <p>The caching framework exists to help speeding up TYPO3 sites, especially heavily loaded ones.
It is possible to move all caches to a dedicated cache server with specialized cache systems
like the Redis key-value store (a so called <a href="https://en.wikipedia.org/wiki/NoSQL">NoSQL database</a>).</p>
            <p>Major parts of the original caching framework were originally backported from TYPO3 Flow.</p>
            <div class="toc"><ul class="phpdocumentor-list"><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/QuickStart/Index.html#caching-quickstart">Quick Start for Integrators</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/QuickStart/Index.html#change-specific-cache-options">Change Specific Cache Options</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/QuickStart/Index.html#garbage-collection-task">Garbage Collection Task</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Configuration/Index.html#caching-configuration">Configuration</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Configuration/Index.html#cache-configurations">Cache Configurations</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Configuration/Index.html#how-to-disable-specific-caches">How to Disable Specific Caches</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Architecture/Index.html#caching-architecture">Caching Framework Architecture</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Architecture/Index.html#basic-knowhow">Basic Knowhow</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Architecture/Index.html#caches-in-the-typo3-core">Caches in the TYPO3 Core</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Architecture/Index.html#garbage-collection-task">Garbage Collection Task</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Architecture/Index.html#cache-api">Cache API</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#caching-frontend">Cache frontends</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#frontend-api">Frontend API</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#available-frontends">Available Frontends</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#cache-backends">Cache backends</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#backend-api">Backend API</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#common-options">Common Options</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#database-backend">Database Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#memcached-backend">Memcached Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#redis-backend">Redis Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#wincache-backend">Wincache Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#file-backend">File Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#simple-file-backend">Simple File Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#pdo-backend">PDO Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#transient-memory-backend">Transient Memory Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/FrontendsBackends/Index.html#null-backend">Null Backend</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Developer/Index.html#developer-information">Developer Information</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Developer/Index.html#cache-registration">Cache Registration</a></li><li class="toc-item"><a href="guide/ApiOverview/CachingFramework/Developer/Index.html#using-the-cache">Using the Cache</a></li></ul></div>
    </div>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/CachingFramework/Index.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>