<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="adding-your-own-content-elements">
    <h1>Create a custom content element type</h1>
            <p>This page explains how to create your own custom content element types. These
are comparable to the predefined content element types supplied by TYPO3. The latter
can be found in the system extension fluid_styled_content.</p>
            <p>A content element can be based on fields already available in the tt_content
table.</p>
            <p>It is also possible to add extra fields to the tt_content
table, see ConfigureCE-Extend-tt_content.</p>
            <p>The data of the content element is then passed to a TypoScript object, in most
cases to a cobj-fluidtemplate.</p>
            <p>Some data might need additional ConfigureCE-DataProcessors. Data
processors are frequently used for example to process files
(t3tsref:FilesProcessor) or to fetch related records
(t3tsref:DatabaseQueryProcessor).</p>
            <p>A data processor can also be used to convert a string to an array,
as is done for example in the <em>table</em> content element with the field bodytext.</p>
            <p>In these cases Fluid does not have to deal with these manipulations or transformation.</p>
            <p>You can find the example below in the TYPO3 Documentation Team extension
examples.</p>
    </div>
<div class="section" id="prerequisites">
    <h1>Prerequisites</h1>
            <p>The following examples require the system extension
fluid_styled_content.</p>
            <p>It can be installed via Composer with:</p>
            <pre><code class="language-console">composer req typo3/cms-fluid-styled-content</code></pre>
            <a id="AddingCE-use-an-extension"></a>
    </div>
<div class="section" id="use-an-extension">
    <h1>Use an extension</h1>
            <p>We recommend to create your own extension for new custom content element types.
The following example uses the extension key examples.</p>
            <p>Here you can find information on how to
create an extension.</p>
            <a id="RegisterCE"></a>
            <a id="AddingCE-TCA-Overrides-tt_content"></a>
    </div>
<div class="section" id="register-the-content-element-type">
    <h1>Register the content element type</h1>
            <p>First we need to define the key of the new content element type. We use
examples_newcontentelement throughout the simple example.</p>
            <p>Next the key needs to be added to the select field CType. This will make it
available in Type dropdown in the backend.</p>
            <p>The following call needs to be added to the file
Configuration/TCA/Overrides/tt_content.php.</p>
            <pre><code class="language-php">// Adds the content element to the &quot;Type&quot; dropdown
\TYPO3\CMS\Core\Utility\ExtensionManagementUtility::addTcaSelectItem(
   &#039;tt_content&#039;,
   &#039;CType&#039;,
    [
        // title
        &#039;LLL:EXT:examples/Resources/Private/Language/locallang.xlf:examples_newcontentelement_title&#039;,
        // plugin signature: extkey_identifier
        &#039;examples_newcontentelement&#039;,
        // icon identifier
        &#039;content-text&#039;,
    ],
    &#039;textmedia&#039;,
    &#039;after&#039;
);</code></pre>
            <p>Now the new content element is available in the backend form. However it
currently contains no fields but the CType field.</p>
            <figure>
    <img
    src="./Images/AutomaticScreenshots/CustomContentElements/CType.png"
                        />

            
                    <figcaption><p>CType dropdown in tt_content</p>
</figcaption>
            </figure>

            <a id="AddingCE-Icon"></a>
            <div class="section" id="about-the-icon">
    <h2>About the icon</h2>
            <p>You can either use an existing <a href="https://typo3.github.io/TYPO3.Icons/icons/content.html">icon from the TYPO3 core</a>  or register your
own icon using the Icon API. In this example we use the icon
content-text, the same icon as the Regular Text Element uses.</p>
            <a id="AddingCE-PageTSconfig"></a>
    </div>
    </div>
<div class="section" id="add-it-to-the-new-content-element-wizard">
    <h1>Add it to the new content element wizard</h1>
            <p>Content elements in the New Content Element Wizard are easier
to find for editors. It is therefore advised to add the new content element
to this wizard (via page TSconfig).</p>
            <pre><code class="language-typoscript">mod.wizards.newContentElement.wizardItems {
   // add the content element to the tab &quot;common&quot;
   common {
      elements {
         examples_newcontentelement {
            iconIdentifier = content-text
            title = LLL:EXT:examples/Resources/Private/Language/locallang.xlf:examples_newcontentelement_title
            description = LLL:EXT:examples/Resources/Private/Language/locallang.xlf:examples_newcontentelement_description
            tt_content_defValues {
               CType = examples_newcontentelement
            }
         }
      }
      show := addToList(examples_newcontentelement)
   }
}</code></pre>
            <blockquote><p>Starting with TYPO3 version 12.0 file EXT:examples/Configuration/page.tsconfig
is automatically included. For version 11.5 and below this file has to be included in the
ext_localconf.php. See Setting global page TSconfig, compatible with TYPO3
11 and 12.</p></blockquote>
            <figure>
    <img
    src="./Images/AutomaticScreenshots/CustomContentElements/ContentElementWizard.png"
                        />

            
                    <figcaption><p>Content element wizard with the new content element</p>
</figcaption>
            </figure>

            <p>The content element wizard configuration is described in detail in
content-element-wizard.</p>
            <a id="ConfigureCE-Fields"></a>
    </div>
<div class="section" id="configure-the-backend-form">
    <h1>Configure the backend form</h1>
            <p>Then you need to configure the backend fields for your new content element in
the file Configuration/TCA/Overrides/tt_content.php:</p>
            <pre><code class="language-php">// Configure the default backend fields for the content element
$GLOBALS[&#039;TCA&#039;][&#039;tt_content&#039;][&#039;types&#039;][&#039;examples_newcontentelement&#039;] = [
   &#039;showitem&#039; =&gt; &#039;
         --div--;LLL:EXT:core/Resources/Private/Language/Form/locallang_tabs.xlf:general,
            --palette--;;general,
            header; Internal title (not displayed),
            bodytext;LLL:EXT:frontend/Resources/Private/Language/locallang_ttc.xlf:bodytext_formlabel,
         --div--;LLL:EXT:core/Resources/Private/Language/Form/locallang_tabs.xlf:access,
            --palette--;;hidden,
            --palette--;;access,
      &#039;,
   &#039;columnsOverrides&#039; =&gt; [
      &#039;bodytext&#039; =&gt; [
         &#039;config&#039; =&gt; [
            &#039;enableRichtext&#039; =&gt; true,
            &#039;richtextConfiguration&#039; =&gt; &#039;default&#039;,
         ],
      ],
   ],
];</code></pre>
            <p>Now the backend form for the new content elements looks like this:</p>
            <figure>
    <img
    src="./Images/AutomaticScreenshots/CustomContentElements/ContentElementFields.png"
                        />

            
                    <figcaption><p>The backend form</p>
</figcaption>
            </figure>

            <a id="ConfigureCE-Frontend"></a>
    </div>
<div class="section" id="configure-the-frontend-rendering">
    <h1>Configure the frontend rendering</h1>
            <p>The output in the frontend gets configured in the setup TypoScript. See
Add TypoScript to your extension about how
to add TypoScript.</p>
            <p>In the examples extension the TypoScript can be found at
Configuration/TypoScript/setup.typoscript</p>
            <p>The Fluid templates for our custom content element will be saved in our
extension. Therefore we need to add the path to the
t3tsref:cobj-fluidtemplate-properties-templaterootpaths:</p>
            <pre><code class="language-typoscript">lib.contentElement {
    templateRootPaths.200 = EXT:examples/Resources/Private/Templates/
}</code></pre>
            <p>You can use any index (200 in this example), just make sure it is unique.
If needed you can also add paths for partials and layouts.</p>
            <p>Now you can register the rendering of your custom content element:</p>
            <pre><code class="language-typoscript">tt_content {
    examples_newcontentelement =&lt; lib.contentElement
    examples_newcontentelement {
        templateName = NewContentElement
    }
}</code></pre>
            <p>The lib.contentElement path is defined in file
EXT:fluid_styled_content/Configuration/TypoScript/Helper/ContentElement.typoscript.
and uses a t3tsref:cobj-fluidtemplate.</p>
            <p>We reference fluid_styled_contents
lib.contentElement from our new content element and only change
the Fluid template to be used.</p>
            <p>The Fluid template is configured by the
t3tsref:cobj-fluidtemplate-properties-templatename property as
NewContentElement.</p>
            <p>This will load a NewContentElement.html template file from the path
defined at the templateRootPaths.</p>
            <p>In the example extension you can find the file at
EXT:examples/Resources/Private/Templates/NewContentElement.html</p>
            <p>tt_content fields can now be used in the Fluid template by accessing them via the data variable.
The following example shows the text entered in the richtext enabled field bodytext, using the html
saved by the richtext editor:</p>
            <pre><code class="language-html">&lt;html data-namespace-typo3-fluid=&quot;true&quot;
      xmlns:f=&quot;http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers&quot;&gt;
   &lt;h2&gt;Data availible to the content element: &lt;/h2&gt;
   &lt;f:debug inline=&quot;true&quot;&gt;{_all}&lt;/f:debug&gt;
   &lt;h2&gt;Output&lt;/h2&gt;
   &lt;div&gt;&lt;f:format.html&gt;{data.bodytext}&lt;/f:format.html&gt;&lt;/div&gt;
&lt;/html&gt;</code></pre>

            <p>All fields of the table tt_content are now available in the variable
data. Since we saved the content of bodytext in the richt text editor we
have to run it through f:format.html to resolve all links and other
formatting. Read more about fluid.</p>
            <div class="phpdocumentor-admonition -tip">
                    <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <article>
        <p>During development you can output all available variables in a Fluid
template by adding f:debug{_all}.</p>
<p>Even more convenient/f:debug
lets you easily turn debugging on or off, depending on whether you
fill in &quot;1&quot; or &quot;0&quot; for <em>condition</em>.</p>
<p>    /f:debug
|    /f:debug</p>

    </article>
</div>
            <p>Below you can see the example output of the new content element and a
dump of all available data:</p>
            <figure>
    <img
    src="./Images/ManualScreenshots/Frontend/ContentElements/NewContentElementOutput.png"
                alt="The example output"        />

            
            </figure>
            <a id="AddingCE-Extended-Example"></a>
    </div>
<div class="section" id="extended-example-extend-tt-content-and-use-data-processing">
    <h1>Extended example: Extend tt_content and use data processing</h1>
            <p>You can find the complete example in the  TYPO3 Documentation Team extension
examples. The steps for
creating a simple new content element as above need to be repeated. We use the
key <em>examples_newcontentcsv</em> in this example.</p>
            <p>We want to output comma separated values (CSV) stored in the field bodytext.
As different programs use different separators to store CSV we want to make
the separator configurable.</p>
            <a id="ConfigureCE-Extend-tt_content"></a>
            <div class="section" id="extending-tt-content">
    <h2>Extending tt_content</h2>
            <p>If the available fields in the table tt_content are not sufficient you can add
your own fields. In this case we need a field tx_examples_separator from
which to choose the desired separator.</p>
            <a id="ConfigureCE-Extend-tt_content-database"></a>
            <div class="section" id="extending-the-database-schema">
    <h3>Extending the database schema</h3>
            <p>First we extend the database schema by adding the following to the file
ext_tables.sql:</p>
            <pre><code class="language-sql">CREATE TABLE tt_content (
   tx_examples_separator VARCHAR(255) DEFAULT &#039;0&#039; NOT NULL,
);</code></pre>
            <div class="phpdocumentor-admonition -tip">
                    <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <article>
        <p>Remember to do a database compare in the Install Tool after changing the
database schema.</p>

    </article>
</div>
            <a id="ConfigureCE-Extend-tt_content-tca"></a>
    </div>
            <div class="section" id="defining-the-field-in-the-tca">
    <h3>Defining the field in the TCA</h3>
            <p>The new field <em>tx_examples_separator</em> is added to the TCA definition of the table <em>tt_content</em> in the file
Configuration/TCA/Overrides/tt_content.php:</p>
            <pre><code class="language-php">$temporaryColumn = [
   &#039;tx_examples_separator&#039; =&gt; [
      &#039;exclude&#039; =&gt; 0,
      &#039;label&#039; =&gt; &#039;LLL:EXT:examples/Resources/Private/Language/locallang_db.xlf:tt_content.tx_examples_separator&#039;,
      &#039;config&#039; =&gt; [
         &#039;type&#039; =&gt; &#039;select&#039;,
         &#039;renderType&#039; =&gt; &#039;selectSingle&#039;,
         &#039;items&#039; =&gt; [
            [&#039;Standard CSV data formats&#039;, &#039;--div--&#039;],
            [&#039;Comma separated&#039;, &#039;,&#039;],
            [&#039;Semicolon separated&#039;, &#039;;&#039;],
            [&#039;Special formats&#039;, &#039;--div--&#039;],
            [&#039;Pipe separated (TYPO3 tables)&#039;, &#039;|&#039;],
            [&#039;Tab separated&#039;, &quot;\t&quot;],
         ],
         &#039;default&#039; =&gt; &#039;,&#039;
      ],
   ],
];
\TYPO3\CMS\Core\Utility\ExtensionManagementUtility::addTCAcolumns(&#039;tt_content&#039;, $temporaryColumn);</code></pre>
            <p>You can read more about defining fields via TCA in the t3tca:start.</p>
            <p>Now the new field can be used in your Fluid template just like any other
tt_content field.</p>
            <p>Another example shows the connection to a foreign table. This allows you to be
more flexible with the possible values in the select box. The new field
tx_examples_main_category is a connection to the TYPO3 system category
table sys_category:</p>
            <pre><code class="language-php">&#039;tx_examples_main_category&#039; =&gt; [
     &#039;exclude&#039; =&gt; 0,
     &#039;label&#039; =&gt; &#039;LLL:EXT:examples/Resources/Private/Language/locallang_db.xlf:tt_content.tx_examples_main_category&#039;,
     &#039;config&#039; =&gt; [
         &#039;type&#039; =&gt; &#039;select&#039;,
         &#039;renderType&#039; =&gt; &#039;selectSingle&#039;,
         &#039;items&#039; =&gt; [
             [&#039;None&#039;, &#039;0&#039;],
         ],
         &#039;foreign_table&#039; =&gt; &#039;sys_category&#039;,
         &#039;foreign_table_where&#039; =&gt; &#039;AND {#sys_category}.{#pid} = ###PAGE_TSCONFIG_ID### AND {#sys_category}.{#hidden} = 0 &#039; .
             &#039;AND {#sys_category}.{#deleted} = 0 AND {#sys_category}.{#sys_language_uid} IN (0,-1) ORDER BY sys_category.uid&#039;,
         &#039;default&#039; =&gt; &#039;0&#039;
     ],
],</code></pre>
    </div>
            <div class="section" id="defining-the-field-in-the-tce">
    <h3>Defining the field in the TCE</h3>
            <p>An individual modification of the newly added field <em>tx_examples_main_category</em>
to the TCA definition of the table <em>tt_content</em> can be done in the TCE
(TYPO3 Core Engine) TSConfig. In most cases it is necessary to set the page
id of the general storage folder. Then the examples extension will only use
the content records from the given page id.</p>
            <pre><code class="language-typoscript">TCEFORM.tt_content.tx_examples_main_category.PAGE_TSCONFIG_ID = 18</code></pre>
            <p>If more than one page id is allowed, this configuration must be used instead
(and the above TCA must be modified to use the marker ###PAGE_TSCONFIG_IDLIST###
instead of ###PAGE_TSCONFIG_ID###):</p>
            <pre><code class="language-typoscript">TCEFORM.tt_content.tx_examples_main_category.PAGE_TSCONFIG_IDLIST = 18, 19, 20</code></pre>
            <pre><code class="language-html">&lt;h2&gt;Content separated by sign {data.tx_examples_separator}&lt;/h2&gt;</code></pre>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>As we are working with pure Fluid without Extbase here the new fields can
be used right away. They need not be added to a model.</p>

    </article>
</div>
            <a id="ConfigureCE-DataProcessors"></a>
    </div>
    </div>
            <div class="section" id="data-processing">
    <h2>Data processing</h2>
            <p>Data processors can be used for data manipulation or fetching before the
variables get passed on to the template.</p>
            <p>This is done in the
dataProcessing
section where you can add an arbitrary number of data processors.</p>
            <p>You can see a complete list of available
data processors in the Typoscript Reference or write a custom
data processor.</p>
            <p>Each processor has to be added with a fully qualified class name and optional
parameters to be used in the data processor:</p>
            <pre><code class="language-typoscript">tt_content {
   examples_newcontentcsv =&lt; lib.contentElement
   examples_newcontentcsv {
      templateName = DataProcCsv
      dataProcessing.10 = TYPO3\CMS\Frontend\DataProcessing\CommaSeparatedValueProcessor
      dataProcessing.10 {
         fieldName = bodytext
         fieldDelimiter.field = tx_examples_separator
         fieldEnclosure = &quot;
         maximumColumns.field = imagecols
         as = myTable
      }
   }
}</code></pre>
            <p>You can now iterate over the variable myTable in the Fluid template, in this
example Resources/Private/Templates/ContentElements/DataProcCsv.html</p>
            <pre><code class="language-html">&lt;html data-namespace-typo3-fluid=&quot;true&quot; xmlns:f=&quot;http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers&quot;&gt;
   &lt;h2&gt;Data in variable &quot;myTable&quot;&lt;/h2&gt;
   &lt;f:debug inline=&quot;true&quot;&gt;{myTable}&lt;/f:debug&gt;

   &lt;h2&gt;Output, {data.imagecols} columns separated by char {data.tx_examples_separator}&lt;/h2&gt;
   &lt;table class=&quot;table table-hover&quot;&gt;
      &lt;f:for each=&quot;{myTable}&quot; as=&quot;columns&quot; iteration=&quot;i&quot;&gt;
         &lt;tr&gt;
            &lt;th scope=&quot;row&quot;&gt;{i.cycle}&lt;/th&gt;
            &lt;f:for as=&quot;column&quot; each=&quot;{columns}&quot;&gt;
               &lt;td&gt;{column}&lt;/td&gt;
            &lt;/f:for&gt;
         &lt;tr&gt;
      &lt;/f:for&gt;
   &lt;/table&gt;
&lt;/html&gt;</code></pre>

            <p>The output would look like this (we added a debug of the variable myTable):</p>
            <figure>
    <img
    src="./Images/ManualScreenshots/Frontend/ContentElements/ContentElementWithDataProcessorOutput.png"
                alt="Output of the CommaSeparatedValueProcessor"        />

            
            </figure>
    </div>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/ContentElements/AddingYourOwnContentElements.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>