<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="hooks-general">
    <h1>Hooks</h1>
            <p>Hooks are basically places in the source code where a user function will be called for processing
if such has been configured. While there are conventions and best practises of how hooks should be
implemented the Hook Concept itself doesn&#039;t prevent it from being used in any way.</p>
            <a id="hooks-basics"></a>
    </div>
<div class="section" id="using-hooks">
    <h1>Using hooks</h1>
            <p>The two lines of code below are an example of how a hook is used for
clear-cache post-processing. The objective of this could be to perform
additional actions whenever the cache is cleared for a specific page:</p>
            <pre><code class="language-php">$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;][&#039;t3lib/class.t3lib_tcemain.php&#039;][&#039;clearCachePostProc&#039;][] =
   \MyVendor\Package\Hook\DataHandlerHook::class . &#039;-&gt;postProcessClearCache&#039;;</code></pre>
            <p>This registers the class/method name to a hook inside of
\TYPO3\CMS\Core\DataHandling\DataHandler. The hook will call the user
function after the clear-cache command has been executed. The user function
will receive parameters which allows it to see what clear-cache action was
performed and typically also an object reference to the parent object. Then the
user function can take additional actions as needed.</p>
            <p>The class has to be declared with the TYPO3 autoloader.</p>
            <p>If we take a look inside of \TYPO3\CMS\Core\DataHandling\DataHandler we
find the hook to be activated like this:</p>
            <pre><code class="language-php line-numbers" data-start=1>// Call post processing function for clear-cache:</code></pre>
            <dl>
                        <dt>if (is_array($GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;][&#039;t3lib/class.t3lib_tcemain.php&#039;][&#039;clearCachePostProc&#039;])) {</dt>
        
        <dd>$_params = array(&#039;cacheCmd&#039; =&gt; $cacheCmd);
foreach($GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;][&#039;t3lib/class.t3lib_tcemain.php&#039;][&#039;clearCachePostProc&#039;] as $_funcRef) {
   TYPO3CMSCoreUtilityGeneralUtility::callUserFunction($_funcRef, $_params, $this);
}</dd>    </dl>
            <p>}</p>
            <p>This is how hooks are typically constructed. The main action happens in line 5
where the function \TYPO3\CMS\Core\Utility\GeneralUtility::callUserFunction()
is called. The user function is called with two arguments, an array with
variable parameters and the parent object.</p>
            <p>In line 3 the contents of the parameter array is prepared. This is of
high interest to you because this is where you see what data is passed
to you and what data might be passed by reference and thereby
could be manipulated from your hook function.</p>
            <p>Finally, notice how the array
tcemain.php']['clearCachePostProc']
is traversed and for each entry the value is expected to be a function
reference which will be called. This allows many hooks to be called at once.
The hooks can even rearrange the calling order if they dare.</p>
            <p>The syntax of a function reference can be seen in the API documentation of
\TYPO3\CMS\Core\Utility\GeneralUtility.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>The example hook shown above refers to old class names. All these old class
names were left in hooks, for obvious reasons of backwards-compatibility.</p>

    </article>
</div>
            <a id="hooks-creation"></a>
    </div>
<div class="section" id="creating-hooks">
    <h1>Creating hooks</h1>
            <p>You are encouraged to create hooks in your extensions if they seem
meaningful. Typically someone would request a hook somewhere. Before
you implement it, consider if it is the right place to put it. On
the one hand we want to have many hooks but not more than needed.
Redundant hooks or hooks which are implemented in the wrong context is
just confusing. So put a little thought into it first, but be
generous.</p>
            <p>There are two main methods of calling a user defined function in
TYPO3.</p>
            

<ul>
    <li class="dash">\TYPO3\CMS\Core\Utility\GeneralUtility::callUserFunction() - The classic way. Takes a
file/class/method reference as value and calls that function. The
argument list is fixed to a parameter array and a parent object. So
this is the limitation. The freedom is that the reference defines the
function name to call. This method is mostly useful for small-scale
hooks in the sources.</li>
    <li class="dash">\TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance() - Create an
object from a user defined
file/class. The method called in the object is fixed by the hook, so
this is the non-flexible part. But it is cleaner in other ways, in
particular that you can even call many methods in the object and you
can pass an arbitrary argument list which makes the API cleaner.
You can also define the objects to be singletons,
instantiated only once in the global scope.</li>
</ul>
            <p>Here are some examples:</p>
            <a id="hooks-creation-object"></a>
    </div>
<div class="section" id="using-typo3-cms-core-utility-generalutility-makeinstance">
    <h1>Using \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance()</h1>
            <p>Data submission to extensions:</p>
            <pre><code class="language-php">// Hook for processing data submission to extensions
foreach ($GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;]
      [&#039;checkDataSubmission&#039;] ?? [] as $className) {
   $_procObj = GeneralUtility::makeInstance($className);
   $_procObj-&gt;checkDataSubmission($this);
}</code></pre>
            <a id="hooks-creation-function"></a>
    </div>
<div class="section" id="using-with-typo3-cms-core-utility-generalutility-calluserfunction">
    <h1>Using with \TYPO3\CMS\Core\Utility\GeneralUtility::callUserFunction()</h1>
            <p>Constructor post-processing:</p>
            <pre><code class="language-php">use \YPO3\CMS\Core\Utility\GeneralUtility;

// Call post-processing function for constructor:
if (is_array($this-&gt;TYPO3_CONF_VARS[&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;][&#039;tslib_fe-PostProc&#039;])) {
   $_params = array(&#039;pObj&#039; =&gt; &amp;$this);
   foreach($this-&gt;TYPO3_CONF_VARS[&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;][&#039;tslib_fe-PostProc&#039;] as $_funcRef) {
     GeneralUtility::callUserFunction($_funcRef,$_params, $this);
   }
}</code></pre>
            <a id="hooks-configuration"></a>
    </div>
<div class="section" id="hook-configuration">
    <h1>Hook configuration</h1>
            <p>There is no complete index of hooks in the Core. But they are easy to
search for and find. And typically it comes quite naturally since you
will find the hooks in the code you want to extend - if they exist.</p>
            <p>This index will list the main variable spaces for configuration of
hooks. By the names of these you can easily scan the source code to
find which hooks are available or might be interesting for you.</p>
            <p>The index below also includes some variable spaces which not only
carry hook configuration but might be used for other purposes as well.</p>
            <a id="hooks-extensions"></a>
    </div>
<div class="section" id="globals-typo3-conf-vars-extconf">
    <h1>$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;EXTCONF&#039;]</h1>
            <p><strong>Configuration space for extensions.</strong></p>
            <p>This will contain all kinds of configuration options for specific
extensions including possible hooks in them! What options are
available to you will depend on a search in the documentation for that
particular extension.</p>
            <pre><code class="language-php">$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;EXTCONF&#039;][&#039;&lt;extension_key&gt;&#039;][&#039;&lt;sub_key&gt;&#039;] = &#039;&lt;value&gt;&#039;;</code></pre>
            

<ul>
    <li class="dash"><strong>&lt;extension_key&gt; :</strong> The unique extension key</li>
    <li class="dash"><strong>&lt;sub_key&gt; :</strong> Whatever the script defines. Typically it identifies
the context of the hook</li>
    <li class="dash"><strong>&lt;value&gt; :</strong> It is up to the extension what the values mean, if they
are mere configuration options or hooks or whatever and how deep the
arrays go. Read the source code where the options are implemented to
see. Or the documentation of the extension, if available.</li>
</ul>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>$GLOBALS['TYPO3_CONF_VARS']['EXTCONF'] was the recommended place where to
put hook configurations inside third party extensions. It is not recommended anymore
to introduce news hooks. Events should be used instead.</p>

    </article>
</div>
            <a id="hooks-core"></a>
    </div>
<div class="section" id="globals-typo3-conf-vars-sc-options">
    <h1>$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;]</h1>
            <p><strong>Configuration space for Core scripts.</strong></p>
            <p>This array is created as an ad hoc space for creating hooks from any
script. This will typically be used from the Core scripts of TYPO3
which do not have a natural identifier like extensions have their
extension keys.</p>
            <pre><code class="language-php">$GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;][&#039;&lt;main_key&gt;&#039;][&#039;&lt;sub_key&gt;&#039;][&#039;&lt;index&gt;&#039;] = &#039;&lt;function_reference&gt;&#039;;</code></pre>
            

<ul>
    <li class="dash"><strong>&lt;main_key&gt; :</strong> The relative path of a script (for output scripts it
should be the &quot;script ID&quot; as found in a comment in the HTML header )</li>
    <li class="dash"><strong>&lt;sub_key&gt; :</strong> Whatever the script defines. Typically it identifies
the context of the hook.</li>
    <li class="dash"><strong>&lt;index&gt; :</strong> Integer index typically. Can be unique string if you have
a reason to use that. Normally it has no greater significance since
the value of the key is not used. The hooks normally traverse over the
array and uses only the value (function reference)</li>
    <li class="dash"><p>**&lt;function_reference&gt; \TYPO3\CMS\Core\Utility\GeneralUtility::callUserFunction() as a function
or \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance() as a class name
depending on implementation of the hook.</p><p>A namespace function has the quoted string format 'Foo\\Bar\\MyClassName-myUserFunction'
or a format using an unquoted class name \Foo\Bar\MyClassName::class . '-myUserFunction'.
The latter is available since PHP 5.5.</p><p>A namespace class name can be in the FQCN quoted string format 'Foo\\Bar\\MyClassName',
or in the unquoted form \Foo\Bar\MyClassName::class. The called function name
is determined by the hook itself.</p><p>Leading backslashes for class names are not allowed and lead to an error.</p></li>
</ul>
            <p>The above syntax is how a hook is typically defined but it might
differ and it might not be a hook at all, but just configuration.
Depends on implementation in any case.</p>
            <p>The following example shows a hook from \TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController. In this case the
function \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance() is used for the hook. The
function_reference is referring to the class name only since the
function returns an object instance of that class. The method name to
call is predefined by the hook, in this case
sendFormmail_preProcessVariables(). This method allows to pass any
number of variables along instead of the limited $params and $pObj
variables from \TYPO3\CMS\Core\Utility\GeneralUtility::callUserFunction().</p>
            <pre><code class="language-php">use TYPO3\CMS\Core\Utility\GeneralUtility

// Hook for preprocessing of the content for formmails:
if (is_array($this-&gt;TYPO3_CONF_VARS[&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;][&#039;sendFormmail-PreProcClass&#039;])) {
    foreach($this-&gt;TYPO3_CONF_VARS[&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;][&#039;sendFormmail-PreProcClass&#039;] as $_classRef) {
        $_procObj = GeneralUtility::makeInstance($_classRef);
        $EMAIL_VARS = $_procObj-&gt;sendFormmail_preProcessVariables($EMAIL_VARS, $this);
    }
}</code></pre>
            <p>In this example we are looking at a special hook, namely the one for
RTE transformations. It is not a &quot;hook&quot; in the strict
sense, but the same principles are used. In this case the &quot;index&quot; key
is defined to be the transformation key name, not a random integer
since we do not iterate over the array as usual.
\TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance() is also used.</p>
            <pre><code class="language-php">if ($className = $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SC_OPTIONS&#039;][&#039;t3lib/class.t3lib_parsehtml_proc.php&#039;][&#039;transformation&#039;][$cmd]) {
    $_procObj = GeneralUtility::makeInstance($className);
    $_procObj-&gt;pObj = $this;
    $_procObj-&gt;transformationKey = $cmd;
    $value = $_procObj-&gt;transform_db($value, $this);
}</code></pre>
            <p>A classic hook also from \TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController. This one is based on
\TYPO3\CMS\Core\Utility\GeneralUtility::callUserFunction() and it passes a reference to $this
along to the function via $_params. In the user-defined function
$_params['pObj']-content is meant to be manipulated in some way. The
return value is insignificant - everything works by the reference to
the parent object.</p>
            <dl>
                        <dt>The hook mentioned in this example has been removed with TYPO3 version</dt>
        
        <dd><p>12.0. The general description on how to call hooks is still valid for the
few remaining hooks in the TYPO3 Core.</p><p>If you need to post process the content, use the event
AfterCacheableContentIsGeneratedEvent starting with TYPO3 v12.</p></dd>                        <dt>.. code-block:: php</dt>
        
        <dd><p>:caption: typo3/sysext/some_extension/ext_localconf.php</p><p>use TYPO3CMSCoreUtilityGeneralUtility</p><p>// Hook for post-processing of page content cached/non-cached:
if (is_array($this-&gt;TYPO3_CONF_VARS[&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;][&#039;contentPostProc-all&#039;])) {
    $_params = array(&#039;pObj&#039; =&gt; &amp;$this);
    foreach($this-&gt;TYPO3_CONF_VARS[&#039;SC_OPTIONS&#039;][&#039;tslib/class.tslib_fe.php&#039;][&#039;contentPostProc-all&#039;] as $_funcRef) {
        GeneralUtility::callUserFunction($_funcRef, $_params, $this);
    }
}</p></dd>    </dl>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/Events/Hooks/Index.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>