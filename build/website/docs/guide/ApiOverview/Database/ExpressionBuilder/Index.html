<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="expression-builder">
    <h1>Expression builder</h1>
            <p>:local:</p>
    </div>
<div class="section" id="introduction">
    <h1>Introduction</h1>
            <p>The \TYPO3\CMS\Core\Database\Query\Expression\ExpressionBuilder class is
responsible for dynamically creating SQL query parts for WHERE and
JOIN ON conditions. Functions like -min() may also be used in
SELECT parts.</p>
            <p>It takes care of building query conditions and ensures that table and column
names are quoted within the created expressions / SQL fragments. It is a facade
to the actual Doctrine DBAL ExpressionBuilder.</p>
            <p>The expression builder is used in the context of the query builder to ensure that queries are built based on the
requirements of the database platform being used.</p>
    </div>
<div class="section" id="basic-usage">
    <h1>Basic usage</h1>
            <p>An instance of the ExpressionBuilder is retrieved from the
QueryBuilder object:</p>
            <pre><code class="language-php">$expressionBuilder = $queryBuilder-&gt;expr();</code></pre>
            <p>It is good practice not to assign an instance of the ExpressionBuilder to
a variable, but to use it directly within the code flow of the query builder
context:</p>
            <p>:caption: <a href="EXT:my_extension/Classes/Domain/Repository/MyTableRepository.php">EXT:my_extension/Classes/Domain/Repository/MyTableRepository.php</a></p>
            <div class="phpdocumentor-admonition -warning">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>It is of crucial importance to quote values correctly to not introduce SQL
injection attack vectors into your application. See the according
section of the query builder
for details.</p>

    </article>
</div>
    </div>
<div class="section" id="junctions">
    <h1>Junctions</h1>
            <dl>
                        <dt>The andX() and orX() methods are deprecated and replaced by</dt>
        
        <dd>and() and or() to match with Doctrine DBAL, which <a href="https://github.com/doctrine/dbal/commit/84328cd947706210caebcaea3ca0394b3ebc4673">deprecated</a>
these methods.</dd>    </dl>
            

<ul>
    <li>-and() conjunction</li>
    <li>-or() disjunction</li>
</ul>
            <p>Combine multiple single expressions with AND or OR. Nesting is
possible, both methods are variadic and accept any number of arguments, which
are all combined. However, it usually makes little sense to pass zero or only
one argument.</p>
            <p>Example to find tt_content records:</p>
            <pre><code class="language-php">// WHERE
//     (`tt_content`.`CType` = &#039;list&#039;)
//     AND (
//        (`tt_content`.`list_type` = &#039;example_pi1&#039;)
//        OR
//        (`tt_content`.`list_type` = &#039;example_pi2&#039;)
//     )
$queryBuilder = $this-&gt;connectionPool-&gt;getQueryBuilderForTable(&#039;tt_content&#039;);
$queryBuilder-&gt;where(
    $queryBuilder-&gt;expr()-&gt;eq(&#039;CType&#039;, $queryBuilder-&gt;createNamedParameter(&#039;list&#039;)),
    $queryBuilder-&gt;expr()-&gt;or(
        $queryBuilder-&gt;expr()-&gt;eq(
            &#039;list_type&#039;,
            $queryBuilder-&gt;createNamedParameter(&#039;example_pi1&#039;)
        ),
        $queryBuilder-&gt;expr()-&gt;eq(
            &#039;list_type&#039;,
            $queryBuilder-&gt;createNamedParameter(&#039;example_pi2&#039;)
        )
    )
)</code></pre>
            <p>Read how to correctly instantiate
a query builder with the connection pool.</p>
    </div>
<div class="section" id="comparisons">
    <h1>Comparisons</h1>
            <p>A set of methods to create various comparison expressions or SQL functions:</p>
            

<ul>
    <li>-eq($fieldName, $value) &quot;equal&quot; comparison =</li>
    <li>-neq($fieldName, $value) &quot;not equal&quot; comparison !=</li>
    <li>-lt($fieldName, $value) &quot;less than&quot; comparison <</li>
    <li>-lte($fieldName, $value) &quot;less than or equal&quot; comparison <=</li>
    <li>-gt($fieldName, $value) &quot;greater than&quot; comparison ></li>
    <li>-gte($fieldName, $value) &quot;greater than or equal&quot; comparison >=</li>
    <li>-isNull($fieldName) &quot;IS NULL&quot; comparison</li>
    <li>-isNotNull($fieldName) &quot;IS NOT NULL&quot; comparison</li>
    <li>-like($fieldName, $value) &quot;LIKE&quot; comparison</li>
    <li>-notLike($fieldName, $value) &quot;NOT LIKE&quot; comparison</li>
    <li>-in($fieldName, $valueArray) &quot;IN ()&quot; comparison</li>
    <li>-notIn($fieldName, $valueArray) &quot;NOT IN ()&quot; comparison</li>
    <li>-inSet($fieldName, $value) &quot;FIND_IN_SET(&#039;42&#039;, aField)&quot;
Find a value in a comma separated list of values</li>
    <li>-notInSet($fieldName, $value) &quot;NOT FIND_IN_SET(&#039;42&#039;, aField)&quot;
Find a value not in a comma separated list of values</li>
    <li>-bitAnd($fieldName, $value) A bitwise AND operation &</li>
</ul>
            <p>Remarks and warnings:</p>
            

<ul>
    <li>The first argument $fieldName is always quoted automatically.</li>
    <li><p>All methods that have a $value or $valueList as second
argument <strong>must</strong> be quoted, usually by calling
$queryBuilder-createNamedParameter()
or $queryBuilder-quoteIdentifier().</p><div class="phpdocumentor-admonition -warning">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>Failing to quote will end up in SQL injections!</p>

    </article>
</div></li>
    <li>-like() and -notLike() values <strong>must</strong> be <strong>additionally</strong>
quoted with a call to $queryBuilder-escapeLikeWildcards($value) to suppress the special
meaning of % characters from $value.</li>
</ul>
            <p>Examples:</p>
            <pre><code class="language-php">// `bodytext` = &#039;foo&#039; - string comparison
-&gt;eq(&#039;bodytext&#039;, $queryBuilder-&gt;createNamedParameter(&#039;foo&#039;))

// `tt_content`.`bodytext` = &#039;foo&#039;
-&gt;eq(&#039;tt_content.bodytext&#039;, $queryBuilder-&gt;createNamedParameter(&#039;foo&#039;))

// `aTableAlias`.`bodytext` = &#039;foo&#039;
-&gt;eq(&#039;aTableAlias.bodytext&#039;, $queryBuilder-&gt;createNamedParameter(&#039;foo&#039;))

// `uid` = 42 - integer comparison
-&gt;eq(&#039;uid&#039;, $queryBuilder-&gt;createNamedParameter(42, \PDO::PARAM_INT))

// `uid` &gt;= 42
-&gt;gte(&#039;uid&#039;, $queryBuilder-&gt;createNamedParameter(42, \PDO::PARAM_INT))

// `bodytext` LIKE &#039;lorem&#039;
-&gt;like(
    &#039;bodytext&#039;,
    $queryBuilder-&gt;createNamedParameter(
        $queryBuilder-&gt;escapeLikeWildcards(&#039;lorem&#039;)
    )
)

// `bodytext` LIKE &#039;%lorem%&#039;
-&gt;like(
    &#039;bodytext&#039;,
    $queryBuilder-&gt;createNamedParameter(
        &#039;%&#039; . $queryBuilder-&gt;escapeLikeWildcards(&#039;lorem&#039;) . &#039;%&#039;
    )
)

// usergroup does not contain 42
-&gt;notInSet(&#039;usergroup&#039;, $queryBuilder-&gt;createNamedParameter(&#039;42&#039;))

// use TYPO3\CMS\Core\Database\Connection;
// `uid` IN (42, 0, 44) - properly sanitized, mind the intExplode and PARAM_INT_ARRAY
-&gt;in(
    &#039;uid&#039;,
    $queryBuilder-&gt;createNamedParameter(
        GeneralUtility::intExplode(&#039;,&#039;, &#039;42, karl, 44&#039;, true),
        Connection::PARAM_INT_ARRAY
    )
)

// use TYPO3\CMS\Core\Database\Connection;
// `CType` IN (&#039;media&#039;, &#039;multimedia&#039;) - properly sanitized, mind the PARAM_STR_ARRAY
-&gt;in(
    &#039;CType&#039;,
    $queryBuilder-&gt;createNamedParameter(
        [&#039;media&#039;, &#039;multimedia&#039;],
        Connection::PARAM_STR_ARRAY
    )
)</code></pre>
    </div>
<div class="section" id="aggregate-functions">
    <h1>Aggregate Functions</h1>
            <p>Aggregate functions used in SELECT parts, often combined with
GROUP BY. The first argument is the field name (or table name / alias
with field name), the second argument is an optional alias.</p>
            

<ul>
    <li>-min($fieldName, $alias = NULL) &quot;MIN()&quot; calculation</li>
    <li>-max($fieldName, $alias = NULL) &quot;MAX()&quot; calculation</li>
    <li>-avg($fieldName, $alias = NULL) &quot;AVG()&quot; calculation</li>
    <li>-sum($fieldName, $alias = NULL) &quot;SUM()&quot; calculation</li>
    <li>-count($fieldName, $alias = NULL) &quot;COUNT()&quot; calculation</li>
</ul>
            <p>Examples:</p>
            <pre><code class="language-php">// Calculate the average creation timestamp of all rows from tt_content
// SELECT AVG(`crdate`) AS `averagecreation` FROM `tt_content`
$queryBuilder = $this-&gt;connectionPool-&gt;getQueryBuilderForTable(&#039;tt_content&#039;);
$result = $queryBuilder
    -&gt;addSelectLiteral(
        $queryBuilder-&gt;expr()-&gt;avg(&#039;crdate&#039;, &#039;averagecreation&#039;)
    )
    -&gt;from(&#039;tt_content&#039;)
    -&gt;executeQuery()
    -&gt;fetchAssociative();

// Distinct list of all existing endtime values from tt_content
// SELECT `uid`, MAX(`endtime`) AS `maxendtime` FROM `tt_content` GROUP BY `endtime`
$statement = $queryBuilder
    -&gt;select(&#039;uid&#039;)
    -&gt;addSelectLiteral(
        $queryBuilder-&gt;expr()-&gt;max(&#039;endtime&#039;, &#039;maxendtime&#039;)
    )
    -&gt;from(&#039;tt_content&#039;)
    -&gt;groupBy(&#039;endtime&#039;)
    -&gt;executeQuery();</code></pre>
            <p>Read how to correctly instantiate
a query builder with the connection pool.</p>
    </div>
<div class="section" id="various-expressions">
    <h1>Various Expressions</h1>
            <div class="section" id="trim">
    <h2>trim()</h2>
            <p>Using the -trim() expression ensures that the fields are trimmed at the
database level. The following examples give a better idea of what is possible:</p>
            <pre><code class="language-php">// use TYPO3\CMS\Core\Database\Connection
// use TYPO3\CMS\Core\Database\Query\Expression\ExpressionBuilder;
$queryBuilder = $this-&gt;connectionPool-&gt;getQueryBuilderForTable(&#039;tt_content&#039;);
$queryBuilder-&gt;expr()-&gt;comparison(
    $queryBuilder-&gt;expr()-&gt;trim($fieldName),
    ExpressionBuilder::EQ,
    $queryBuilder-&gt;createNamedParameter(&#039;&#039;, Connection::PARAM_STR)
);</code></pre>
            <p>Read how to correctly instantiate
a query builder with the connection pool.</p>
            <p>The call to $queryBuilder-expr()-trim() can be one of the following:</p>
            

<ul>
    <li>trim('fieldName')
results in TRIM("tableName"."fieldName")</li>
    <li>trim('fieldName', AbstractPlatform::TRIM_LEADING, 'x')
results in TRIM(LEADING "x" FROM "tableName"."fieldName")</li>
    <li>trim('fieldName', AbstractPlatform::TRIM_TRAILING, 'x')
results in TRIM(TRAILING "x" FROM "tableName"."fieldName")</li>
    <li>trim('fieldName', AbstractPlatform::TRIM_BOTH, 'x')
results in TRIM(BOTH "x" FROM "tableName"."fieldName")</li>
</ul>
    </div>
            <div class="section" id="length">
    <h2>length()</h2>
            <p>The -length() string function can be used to return the length of a
string in bytes. The signature of the method signature is $fieldName
with an optional alias -length(string $fieldName, string $alias = null):</p>
            <pre><code class="language-php">// use TYPO3\CMS\Core\Database\Connection;
// use TYPO3\CMS\Core\Database\Query\Expression\ExpressionBuilder;
$queryBuilder = $this-&gt;connectionPool-&gt;getQueryBuilderForTable(&#039;tt_content&#039;);
$queryBuilder-&gt;expr()-&gt;comparison(
    $queryBuilder-&gt;expr()-&gt;length($fieldName),
    ExpressionBuilder::GT,
    $queryBuilder-&gt;createNamedParameter(0, Connection::PARAM_INT)
);</code></pre>
            <p>Read how to correctly instantiate
a query builder with the connection pool.</p>
    </div>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/Database/ExpressionBuilder/Index.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>