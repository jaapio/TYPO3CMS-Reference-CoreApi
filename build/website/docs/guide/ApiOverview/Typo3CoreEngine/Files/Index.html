<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="file-functions">
    <h1>File Functions Basics</h1>
            <p>File operations in the TCE are handled by the class
\TYPO3\CMS\Core\Utility\File\ExtendedFileUtility
which extends \TYPO3\CMS\Core\Utility\File\BasicFileUtility.
The instructions for file manipulation are passed to this class as a
multidimensional array.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>Do not use \TYPO3\CMS\Core\Utility\File\ExtendedFileUtility or
\TYPO3\CMS\Core\Utility\File\BasicFileUtility directly - both classes are
marked as internal. Use \TYPO3\CMS\Core\Resource\ResourceStorage and
\TYPO3\CMS\Core\Resource\ResourceFactory for handling files in your code.</p>

    </article>
</div>
            <a id="tce-files-array"></a>
    </div>
<div class="section" id="files-array">
    <h1>Files Array</h1>
            <p>Syntax:</p>
            <pre><code class="language-none">$file[ command ][ index ][ key ] = value</code></pre>
            <p>Description of keywords in syntax:</p>
            <p>:header-rows: 1</p>
            <blockquote>

<ul>
    <li class="dash">:Key,20: Key
:Type,20: Data type
:Description,60: Description</li>
    <li class="dash"><dl>
                        <dt>:Key:</dt>
        
        <dd>command</dd>                        <dt>:Type:</dt>
        
        <dd>string (command keyword)</dd>                        <dt>:Description:</dt>
        
        <dd><p>The command type you want to execute.</p><p>See table below for command keywords, keys and values</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Key:</dt>
        
        <dd>index</dd>                        <dt>:Type:</dt>
        
        <dd>integer</dd>                        <dt>:Description:</dt>
        
        <dd>Integer index in the array which separates multiple commands of the
same type.</dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Key:</dt>
        
        <dd>key</dd>                        <dt>:Type:</dt>
        
        <dd>string</dd>                        <dt>:Description:</dt>
        
        <dd><p>Depending on the command type. The keys will carry the information
needed to perform the action. Typically a &quot;target&quot; key is used to
point to the target directory or file while a &quot;data&quot; key carries the
data.</p><p>See table below for command keywords, keys and values</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Key:</dt>
        
        <dd>value</dd>                        <dt>:Type:</dt>
        
        <dd>string</dd>                        <dt>:Description:</dt>
        
        <dd><p>The value for the command</p><p>See table below for command keywords, keys and values</p></dd>    </dl></li>
</ul></blockquote>
            <a id="tce-file-keywords"></a>
            <div class="section" id="command-keywords-and-values">
    <h2>Command Keywords and Values</h2>
            <p>:header-rows: 1</p>
            <blockquote>

<ul>
    <li class="dash">:Command,20: Command
:Keys,20: Keys
:Value,60: Value</li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>delete</dd>                        <dt>:Keys:</dt>
        
        <dd>&quot;data&quot;</dd>                        <dt>:Value:</dt>
        
        <dd>&quot;data&quot; = Absolute path to the file/folder to delete</dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>copy</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p><p>&quot;altName&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = Absolute path to the file/folder to copy</p><p>&quot;target&quot; = Absolute path to the folder to copy to (destination)</p><p>&quot;altName&quot; = (boolean): If set, a new filename is made by appending
numbers/unique-string in case the target already exists.</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>move</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p><p>&quot;altName&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd>(Exactly like copy, just replace the word &quot;copy&quot; with &quot;move&quot;)</dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>rename</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = New name, max 30 characters alphanumeric</p><p>&quot;target&quot; = Absolute path to the target file/folder</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>newfolder</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = Folder name, max 30 characters alphanumeric</p><p>&quot;target&quot; = Absolute path to the folder where to create it</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>newfile</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = New filename</p><p>&quot;target&quot; = Absolute path to the folder where to create it</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>editfile</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = The new content</p><p>&quot;target&quot; = Absolute path to the target file</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>upload</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p><p>upload_$id</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = ID-number (points to the global var that holds the filename-
ref ($_FILES["upload_" . $id]["name"]).</p><p>&quot;target&quot; = Absolute path to the target folder (destination)</p><p>upload_$id = File reference. $id must equal value of
file[upload][...][data]!</p><p>See \TYPO3\CMS\Core\Utility\File\ExtendedFileUtility::func_upload().</p></dd>    </dl></li>
    <li class="dash"><dl>
                        <dt>:Command:</dt>
        
        <dd>unzip</dd>                        <dt>:Keys:</dt>
        
        <dd><p>&quot;data&quot;</p><p>&quot;target&quot;</p></dd>                        <dt>:Value:</dt>
        
        <dd><p>&quot;data&quot; = Absolute path to the zip-file. (file extension must be &quot;zip&quot;)</p><p>&quot;target&quot; = The absolute path to the target folder (destination) (if
not set, default is the same as the zip-file)</p></dd>    </dl></li>
</ul></blockquote>
            <p>It is unlikely that you will need to use this internally in your
scripts like you will need \TYPO3\CMS\Core\DataHandling\DataHandler. It
is fairly uncommon to need the file manipulations in own scripts unless you
make a special application. Therefore the most typical usage of this API is
from \\TYPO3\\CMS\\Backend\\Controller\\File\\FileController
and the Core scripts that are activated by the File  List module.</p>
            <p>However, if needed, this is an example of how to initialize usage. It is taken
from ImportExportController.php:</p>
            <pre><code class="language-php line-numbers" data-start=1>// Initializing:
$this-&gt;fileProcessor = GeneralUtility::makeInstance(ExtendedFileUtility::class);
$this-&gt;fileProcessor-&gt;setActionPermissions();

$this-&gt;fileProcessor-&gt;start($this-&gt;file);
$this-&gt;fileProcessor-&gt;processData();</code></pre>
            <p>*Explanation$GLOBALS['TYPO3_CONF_VARS']!. In line 6 the command
map is executed.</p>
    </div>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/Typo3CoreEngine/Files/Index.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>