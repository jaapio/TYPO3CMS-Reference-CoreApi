<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="bootstrapping">
    <h1>Bootstrapping</h1>
            <p>TYPO3 has a clean bootstrapping process driven mostly
by class \TYPO3\CMS\Core\Core\Bootstrap. This class is initialized by
calling  Bootstrap::init() and serves as an entry point for later calling
an application class, depending on several context-dependant constraints.</p>
            <p>Each application class registers request handlers to
run a certain request type (e.g. eID or TSFE-logic, or Ajax requests in the Backend). Each application is handed
over the class loader provided by Composer.</p>
    </div>
<div class="section" id="applications">
    <h1>Applications</h1>
            <p>There are four types of applications provided by the TYPO3 Core:</p>
            <div class="section" id="typo3-cms-frontend-http-application">
    <h2>\TYPO3\CMS\Frontend\Http\Application</h2>
            <p>This class handles all incoming web requests coming through index.php
in the public web directory. It handles all regular page (TSFE) and eID requests.</p>
            <p>It checks if all configuration is set, otherwise redirects to the TYPO3 Install
Tool.</p>
    </div>
            <div class="section" id="typo3-cms-backend-http-application">
    <h2>\TYPO3\CMS\Backend\Http\Application</h2>
            <p>This class handles all incoming web requests for any regular backend call
inside typo3/\*.</p>
            <p>Its TYPO3\CMS\Backend\Http\RequestHandler is used for all backend
requests, including Ajax routes. If a get/post parameter &quot;route&quot; is set, the
backend routing is called by the RequestHandler and
searches for a matching route inside the router. The corresponding controller
/ action is called then which returns the response.</p>
            <p>The Application checks if all configuration is set, otherwise it
redirects to the TYPO3 Install Tool.</p>
    </div>
            <div class="section" id="typo3-cms-core-console-commandapplication">
    <h2>\TYPO3\CMS\Core\Console\CommandApplication</h2>
            <p>This class is the entry point for the TYPO3 command line for console commands.
In addition to registering all available commands, this also sets up a CLI user.</p>
    </div>
            <div class="section" id="typo3-cms-install-http-application">
    <h2>\TYPO3\CMS\Install\Http\Application</h2>
            <p>The install tool Application only runs with a very limited bootstrap
set up. The failsafe package manager does not take
the ext_localconf.php of installed extensions into account.</p>
            <div class="phpdocumentor-admonition -warning">
                <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                <article>
        <p>This bootstrapping API is internal and may change at any time in the near future
even in minor updates. It is thus discouraged to use it in third party code.
Use this class only if other extensibility possibilities such as
Events, Hooks, or XCLASS
are not enough to reach your goals.</p>

    </article>
</div>
            <p>Example of bootstrapping the TYPO3 Backend:</p>
            <pre><code class="language-php">// Set up the application for the backend
call_user_func(function () {
    $classLoader = require dirname(__DIR__) . &#039;/vendor/autoload.php&#039;;
    \TYPO3\CMS\Core\Core\SystemEnvironmentBuilder::run(1, \TYPO3\CMS\Core\Core\SystemEnvironmentBuilder::REQUESTTYPE_BE);
    \TYPO3\CMS\Core\Core\Bootstrap::init($classLoader)-&gt;get(\TYPO3\CMS\Backend\Http\Application::class)-&gt;run();
});</code></pre>
            <a id="backend-initialization"></a>
    </div>
    </div>
<div class="section" id="initialization">
    <h1>Initialization</h1>
            <p>Whenever a call to TYPO3 is made, the application goes through a
bootstrapping process managed by a dedicated API. This process is also
used in the frontend, but only the backend process is described here.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>This chapter is outdated and should probably be merged with the &quot;HTTP request library / Guzzle / PSR-7&quot;
chapter below. The chapter should include an overview of single bootstrap steps, PSR-15 and routing.</p>

    </article>
</div>
            <p>The following steps are performed during bootstrapping.</p>
            <div class="section" id="1-initialize-the-class-loader">
    <h2>1. Initialize the class loader</h2>
            <p>This defines which autoloader to use.</p>
    </div>
            <div class="section" id="2-run-systemenvironmentbuilder">
    <h2>2. Run SystemEnvironmentBuilder</h2>
            <p>The \TYPO3\CMS\Core\Core\SystemEnvironmentBuilder is responsible for setting
up a system environment that is shared by all contexts (FE, BE, Install Tool and CLI).
This class defines a large number of constants and global variables. If you want
to have an overview of these base values, it is worth taking a look into the following methods:</p>
            

<ul>
    <li class="dash">SystemEnvironmentBuilder::defineTypo3RequestTypes() defines the different
constants for determining if the current request is a frontend, backend, cli,
Ajax or Install Tool request.</li>
    <li class="dash">SystemEnvironmentBuilder::defineBaseConstants() defines
constants containing values such as the current version number,
blank character codes and error codes related to services.</li>
    <li class="dash">SystemEnvironmentBuilder::initializeEnvironment() initializes the
Environment class that points to various parts of the TYPO3 installation like
the absolute path to the typo3 directory or the absolute
path to the installation root.</li>
    <li class="dash">SystemEnvironmentBuilder::calculateScriptPath() calculates the script
path. This is the absolute path to the entry script. This can be something
like &#039;.../public/index.php&#039; or &#039;.../public/typo3/index.php&#039; for web calls,
or &#039;.../bin/typo3&#039; or similar for CLI calls.</li>
    <li class="dash">SystemEnvironmentBuilder::initializeGlobalVariables() sets
some global variables as empty arrays.</li>
    <li class="dash">SystemEnvironmentBuilder::initializeGlobalTimeTrackingVariables()
defines special variables which contain, for example, the current time or
a simulated time as may be set using the Admin Panel.</li>
</ul>
    </div>
            <div class="section" id="3-initialize-bootstrap">
    <h2>3.  Initialize bootstrap</h2>
            <p>\TYPO3\CMS\Core\Core\Bootstrap boots up TYPO3 and returns a container
that is later used to run an application. As a basic overview it does the
following:</p>
            

<ul>
    <li class="dash">Bootstrap::initializeClassLoader() processes all the information
available to be able to determine where to load classes from, including class
alias maps which are used to map legacy class names to new class names.</li>
    <li class="dash">Bootstrap::checkIfEssentialConfigurationExists() checks if crucial
configuration elements have been set. If that is not the case, the
installation is deemed incomplete and the user is redirected to the Install Tool.</li>
    <li class="dash">Bootstrap::createConfigurationManager() creates the Configuration
Manager which is then populated with the the main configuration (&quot;TYPO3_CONF_VARS&quot;).</li>
    <li class="dash">$builder-createDependencyInjectionContainer() creates a dependency
injection container which is later returned by Bootstrap::init().</li>
    <li class="dash">The caching framework and the package management are set up.</li>
    <li class="dash">All configuration items from extensions are loaded</li>
    <li class="dash">The database connection is established</li>
</ul>
    </div>
            <div class="section" id="4-dispatch">
    <h2>4. Dispatch</h2>
            <p>After all that the, the newly created container receives the application object
and Application::run() method is called, which basically dispatches the
request to the right handler.</p>
    </div>
            <div class="section" id="5-initialization-of-the-typo3-backend">
    <h2>5. Initialization of the TYPO3 backend</h2>
            <p>The backend request handler then calls the MiddlewareDispatcher which
then manages and dispatches a PSR-15 middleware stack. In the backend context
this will typically go through such important steps like:</p>
            

<ul>
    <li class="dash">checking backend access: Is it locked? Does it have proper SSL setup?</li>
    <li class="dash">loading the full TCA</li>
    <li class="dash">verifying and initializing the backend user</li>
</ul>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>For more information on the middleware stack, you can continue reading the
chapter request-handling.</p>

    </article>
</div>
            <a id="bootstrapping-context"></a>
            <a id="application-context"></a>
    </div>
    </div>
<div class="section" id="application-context-1">
    <h1>Application context</h1>
            <p>Each request, no matter if it runs from the command line or through HTTP,
runs in a specific <em>application context</em>. TYPO3 provides exactly three built-in
contexts:</p>
            

<ul>
    <li><code>Production</code> (default) - should be used for a live site</li>
    <li><code>Development</code> - used for development</li>
    <li><code>Testing</code> - is only used internally when executing TYPO3 <strong>Core</strong> tests. It must not be used otherwise.</li>
</ul>
            <p>The context TYPO3 runs in is specified through the environment variable
<code>TYPO3_CONTEXT</code>. It can be set on the command line:</p>
            <pre><code class="language-bash"># run the TYPO3 CLI commands in development context
TYPO3_CONTEXT=Development ./bin/typo3</code></pre>
            <p>or be part of the web server configuration:</p>
            <pre><code class="language-apacheconf"># In your Apache configuration (either .htaccess or vhost)
# you can either set context to static value with:
SetEnv TYPO3_CONTEXT Development

# Or set context depending on current host header
# using mod_rewrite module
RewriteCond %{HTTP_HOST} ^dev\.example\.com$
RewriteRule .? - [E=TYPO3_CONTEXT:Development]

RewriteCond %{HTTP_HOST} ^staging\.example\.com$
RewriteRule .? - [E=TYPO3_CONTEXT:Production/Staging]

RewriteCond %{HTTP_HOST} ^www\.example\.com$
RewriteRule .? - [E=TYPO3_CONTEXT:Production]

# or using setenvif module
SetEnvIf Host &quot;^dev\.example\.com$&quot; TYPO3_CONTEXT=Development
SetEnvIf Host &quot;^staging\.example\.com$&quot; TYPO3_CONTEXT=Production/Staging
SetEnvIf Host &quot;^www\.example\.com$&quot; TYPO3_CONTEXT=Production</code></pre>
            <pre><code class="language-nginx"># In your Nginx configuration, you can pass the context as a fastcgi parameter
location ~ \.php$ {
   include         fastcgi_params;
   fastcgi_index   index.php;
   fastcgi_param   TYPO3_CONTEXT  Development/Dev;
   fastcgi_param   SCRIPT_FILENAME  $document_root$fastcgi_script_name;
}</code></pre>
            <a id="bootstrapping-context-custom"></a>
            <div class="section" id="custom-contexts">
    <h2>Custom contexts</h2>
            <p>In certain situations, more specific contexts are desirable:</p>
            

<ul>
    <li>a staging system may run in a <em>Production</em> context, but requires a different set of
credentials than the production server.</li>
    <li>developers working on a project may need different application specific settings
but prefer to maintain all configuration files in a common Git repository.</li>
</ul>
            <p>By defining custom contexts which inherit from one of the three base contexts,
more specific configuration sets can be realized.</p>
            <p>While it is not possible to add new &quot;top-level&quot; contexts at the same level like
<em>Production</em> and <em>Testing</em>, you can create arbitrary <em>sub-contexts</em>, just by
specifying them like <code>&lt;MainContext&gt;/&lt;SubContext&gt;</code>.</p>
            <p>For a staging environment a custom context <code>Production/Staging</code> may provide the
necessary settings while the <code>Production/Live</code> context is used on the live instance.</p>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>This even works recursively, so if you have a multiple-server staging
setup, you could use the context <code>Production/Staging/Server1</code> and
<code>Production/Staging/Server2</code> if both staging servers needed different
configuration.</p>

    </article>
</div>
            <blockquote><p><code>Testing</code> Is reserved for internal use when executing TYPO3 <strong>Core</strong> functional and unit tests
It must not be used otherwise. Instead sub-contexts must be used:
<code>Production/Testing</code> or <code>Development/Testing</code></p></blockquote>
            <a id="bootstrapping-context-example"></a>
            <div class="section" id="usage-example">
    <h3>Usage example</h3>
            <p>The current Application Context is set very early in the bootstrap process and can be accessed
through public API for example in the config/system/additional.php file to automatically set
different configuration for different contexts.</p>
            <p>In file config/system/additional.php:</p>
            <pre><code class="language-php">switch (\TYPO3\CMS\Core\Core\Environment::getContext()) {
   case &#039;Development&#039;:
      $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SYS&#039;][&#039;displayErrors&#039;] = 1;
      $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SYS&#039;][&#039;devIPmask&#039;] = &#039;*&#039;;
      break;
   case &#039;Production/Staging&#039;:
      $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SYS&#039;][&#039;displayErrors&#039;] = 0;
      $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SYS&#039;][&#039;devIPmask&#039;] = &#039;192.168.1.*&#039;;
      break;
   default:
      $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SYS&#039;][&#039;displayErrors&#039;] = 0;
      $GLOBALS[&#039;TYPO3_CONF_VARS&#039;][&#039;SYS&#039;][&#039;devIPmask&#039;] = &#039;127.0.0.1&#039;;
}</code></pre>
    </div>
    </div>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ApiOverview/RequestLifeCycle/Bootstrapping.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>