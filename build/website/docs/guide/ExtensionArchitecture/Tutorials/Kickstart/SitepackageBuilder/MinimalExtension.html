<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="extension-minimal">
    <h1>Minimal extension</h1>
    </div>
<div class="section" id="kickstart-a-minimal-extension-with-the-sitepackage-builder">
    <h1>Kickstart a minimal extension with the Sitepackage Builder</h1>
            <p>Learn how to create a minimal extension that contains a single PHP class.</p>
            <p>:local:</p>
    </div>
<div class="section" id="video-tech-tip-minimal-extension">
    <h1>Video - &quot;Tech Tip - Minimal Extension&quot;</h1>
            <p>The following video was produced in 2018 on TYPO3 v9. While some details have
changed since then, most parts remain the same. See the step-by-step guide below.</p>
    </div>
<div class="section" id="minimal-extension-step-by-step">
    <h1>Minimal extension - step-by-step</h1>
            
    
<ol>
    <li><p>Create a new sitepackage</p><p>Head over to the <a href="https://www.sitepackagebuilder.com/new/">Site Package Builder</a>.</p><p>Choose your desired TYPO3 version and Fluid Styled Content
as a base package.</p><p>Fill in the other fields. Download the site package stub.</p><p>You can find the code as it was produced at the time this tutorial was
written for TYPO3 v11 at
<a href="https://github.com/TYPO3-Documentation/speeddemo/releases/tag/1.0.0">speeddemo v1.0.0</a>.</p></li>
    <li><p>Install the extension locally</p><p>See Extension installation.</p></li>
    <li><p>Remove all the fluff</p><p>The sitepackage builder creates many files that you don&#039;t need for this
simple extension.</p><p>You can delete the directories Build and Configuration.
Delete all sub folders of Classes. Delete all files and folders
within Resources except Resources/Public/Icons/Extension.svg.</p><p>Delete all files on root level except composer.json and
ext_emconf.php. See what is left at
<a href="https://github.com/TYPO3-Documentation/speeddemo/releases/tag/1.1.0">speeddemo v1.1.0</a>.</p></li>
    <li><p>The namespace and PSR-4 autoloading</p><p>TYPO3 features PSR-4 autoloading. If a PHP class is
withing the correct namespace and path it will be available automatically.</p><p>Now what is the correct namespace for your extension? Look for the
keyword &quot;autoload&quot; in the composer.json of your extension. You
will find something like this:</p><pre><code class="language-json">{
    &quot;name&quot;: &quot;typo3-documentation-team/speeddemo&quot;,
    &quot;type&quot;: &quot;typo3-cms-extension&quot;,
    &quot;...&quot;: &quot;...&quot;,
    &quot;autoload&quot;: {
        &quot;psr-4&quot;: {
            &quot;Typo3DocumentationTeam\\Speeddemo\\&quot;: &quot;Classes/&quot;
        }
    },
}</code></pre><p>The key in the array &quot;psr-4&quot; is your namespaceTypo3DocumentationTeam\Speeddemo. Note: the backspace needs to be
escaped by another backspace in json.</p></li>
    <li><p>Create a PHP class</p><p>It is recommended, but not enforced, to put your class in a thematic
subfolder. We will create a subfolder called Classes/UserFunctions.</p><p>In this folder we create a class in file MyClass.php.</p><p>The class in the file must have the same name as the file, otherwise it will be not
found by autoloading. It must have a namespace that is a combination of the
namespace defined in step 4 and its folder name(s). The complete class would
look like this so far:</p><pre><code class="language-php">&lt;?php

declare(strict_types=1);

namespace Typo3DocumentationTeam\Speeddemo\UserFunctions;

class MyClass
{

}</code></pre><p>The extension now looks like
<a href="https://github.com/TYPO3-Documentation/speeddemo/releases/tag/1.2.0">speeddemo v1.2.0</a>.</p><div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>It is recommended to always use strict types for new PHP classes. You
can achieve this by adding the line declare(strict_types=1); right
after the opening PHP tag. The downside is in this case you have to
make sure to always use correct types in PHP.</p>

    </article>
</div></li>
    <li><p>Add a simple method to the class</p><p>For demonstration reasons we add a simple method to the class that
returns a string:</p><pre><code class="language-php">class MyClass
{
    public function myMethod(): string
    {
        return &#039;Here I go again on my own&#039;;
    }
}</code></pre><p>The extension now looks like
<a href="https://github.com/TYPO3-Documentation/speeddemo/releases/tag/1.3.0">speeddemo v1.3.0</a>.</p></li>
    <li><p>Get the result of the function displayed</p><p>Add some TypoScript to your sitepackage&#039;s TypoScript setup or the main
TypoScript Template if you still keep your TypoScript in the backend
(not recommended anymore).</p><pre><code class="language-typoscript">page = PAGE
// ...
page.1 = USER
page.1.userFunc = Typo3DocumentationTeam\Speeddemo\UserFunctions\MyClass-&gt;myMethod</code></pre><p>The string used in the property userFunc is the fully
qualified name (FQN) of the class. That is the namespace followed by
a backslash and then the classname. To this we append the name of the method
to be called with a minus and greater-than sign (-).</p><p>It is unnecessary to tell TYPO3 where the file of the class is located.
If the namespace and location of the PHP file are correct as described above,
the class will be found automatically.</p><p>In rare cases composer autoloading might have a hiccup, then you can try to
regenerate the autoloading files:</p><pre><code class="language-bash">composer dump-autoload</code></pre></li>
</ol>
    </div>
<div class="section" id="bonus-make-the-extension-available-for-v12">
    <h1>Bonus: make the extension available for v12</h1>
            <p>At the time of writing this tutorial, the sitepackage builder was not
available for TYPO3 v12 yet. However, as no deprecated functionality was
used in creating this extension, it should be straightforward to update.</p>
            <p>You would use the same process if you need to update your extension for a
future TYPO3 version.</p>
            <p>We can remove the requirements typo3/cms-rte-ckeditor and
typo3/cms-fluid-styled-content from the composer.json
as they are not needed by our extension.</p>
            <p>The remaining requirement is typo3/cms-core. We now define that
not only TYPO3 v11.5.x is allowed but also v12.x:</p>
            <pre><code class="language-json">{
    &quot;name&quot;: &quot;typo3-documentation-team/speeddemo&quot;,
    &quot;type&quot;: &quot;typo3-cms-extension&quot;,
    &quot;...&quot;: &quot;...&quot;,
    &quot;require&quot;: {
        &quot;typo3/cms-core&quot;: &quot;^11.5 || ^12.0&quot;
    },
}</code></pre>
            <p>Now we change the requirements in the file  ext_emconf.php.
This way the extension could also be installed manually in legacy TYPO3
installations:</p>
            <pre><code class="language-php">$EM_CONF[$_EXTKEY] = [
    &#039;title&#039; =&gt; &#039;speeddemo&#039;,
    // ...
    &#039;constraints&#039; =&gt; [
        &#039;depends&#039; =&gt; [
            &#039;typo3&#039; =&gt; &#039;11.5.0-12.4.99&#039;,
        ],
    ],
]</code></pre>
            <p>The extension now looks like
<a href="https://github.com/TYPO3-Documentation/speeddemo/releases/tag/1.4.0">speeddemo v1.4.0</a>
and can be installed in both TYPO3 v11 and v12.</p>
    </div>
<div class="section" id="next-steps">
    <h1>Next steps</h1>
            <p>You don&#039;t have a sitepackage yet? Have a look at the
Sitepackage Tutorial.</p>
            <p>If you want to display lists and single views of data, or maybe even manipulate
the data in the frontend, have a look at Extbase.</p>
            <p>If you need a script that can be executed from the command line or from a cron
job, have a look at Symfony console commands (cli).</p>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ExtensionArchitecture/Tutorials/Kickstart/SitepackageBuilder/MinimalExtension.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>