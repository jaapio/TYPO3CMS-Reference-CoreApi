<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
                    <title>phpDocumentor</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">phpDocumentor</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">typo3-explained</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Introduction/Index.html#introduction" class="">Introduction</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Introduction/Index.html#system-overview-1" class="">System Overview</a>
                
            </li>
                    <li>
                <a href="guide/Introduction/Index.html#a-basic-installation" class="">A basic installation</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ApiOverview/Index.html#api-a-z" class="">API A-Z</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/CodingGuidelines/Index.html#cgl" class="">Coding Guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/CodingGuidelines/Introduction.html#cgl-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglPhp/Index.html#cgl-php" class="">PHP Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglJavaScript/Index.html#cgl-javascript" class="">JavaScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypeScript/Index.html#cgl-typescript" class="">TypeScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTypoScript/Index.html#cgl-typoscript" class="">TypoScript Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglTsConfig.html#cgl-tsconfig" class="">TSconfig Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglXliff/Index.html#cgl-xliff" class="">Xliff Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglYaml.html#cgl-yaml" class="">Yaml Coding Guidelines</a>
                
            </li>
                    <li>
                <a href="guide/CodingGuidelines/CglRest/Index.html#cgl-rest" class="">reStructuredText (reST)</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Configuration/Index.html#configuration" class="">Configuration</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Configuration/ConfigurationOverview.html#config-overview" class="">Configuration overview</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Glossary.html#configuration-classification" class="">Glossary</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationFiles.html#configuration-files" class="">Configuration files</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/ConfigurationModule/Index.html#configuration-module" class="">Configuration module</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/FeatureToggles.html#feature-toggles" class="">Feature toggles</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/GlobalVariables.html#globals-variables" class="">$GLOBALS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3ConfVars/Index.html#typo3-conf-vars" class="">TYPO3_CONF_VARS</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Typo3Information.html#typo3Information" class="">Global meta information about TYPO3</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Tsconfig.html#tsconfig" class="">TSconfig</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/TypoScriptSyntax/Index.html#typoscript-syntax-about" class="">TypoScript syntax</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/UserSettingsConfiguration/Index.html#user-settings" class="">User settings configuration</a>
                
            </li>
                    <li>
                <a href="guide/Configuration/Yaml/Index.html#yaml" class="">YAML</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/ExtensionArchitecture/Index.html#extension-development" class="">Extension development</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/ExtensionArchitecture/Concepts/Index.html#extension-concepts" class="">Concepts</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/FileStructure/Index.html#extension-reserved-folders-legacy" class="">File structure</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/HowTo/Index.html#extension-howto" class="">Howto</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Extbase/Index.html#extbase" class="">Extbase</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/BestPractises/Index.html#extension-Best-practises" class="">Best practises and conventions</a>
                
            </li>
                    <li>
                <a href="guide/ExtensionArchitecture/Tutorials/Index.html#extension-tutorials" class="">Tutorials</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Security/Index.html#security" class="">Security guidelines</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Security/Introduction/Index.html#security-introduction" class="">Introduction</a>
                
            </li>
                    <li>
                <a href="guide/Security/SecurityTeam/Index.html#security-team" class="">The TYPO3 Security Team</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralInformation/Index.html#security-general-information" class="">General Information</a>
                
            </li>
                    <li>
                <a href="guide/Security/TypesOfThreats/Index.html#security-threats" class="">Types of Security Threats</a>
                
            </li>
                    <li>
                <a href="guide/Security/GeneralGuidelines/Index.html#security-general-guidelines" class="">General guidelines</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesAdministrators/Index.html#security-administrators" class="">Guidelines for System Administrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesExtensionDevelopment/Index.html#security-extension-development" class="">Guidelines for extension development</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesIntegrators/Index.html#security-integrators" class="">Guidelines for TYPO3 integrators</a>
                
            </li>
                    <li>
                <a href="guide/Security/GuidelinesEditors/Index.html#security-editors" class="">Guidelines for editors</a>
                
            </li>
                    <li>
                <a href="guide/Security/Backups/Index.html#security-backups" class="">Backup strategy</a>
                
            </li>
                    <li>
                <a href="guide/Security/HackedSite/Index.html#security-detect-analyze-repair" class="">Detect, analyze and repair a hacked site</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Testing/Index.html#testing" class="">Testing</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/Testing/History.html#testing-history" class="">History</a>
                
            </li>
                    <li>
                <a href="guide/Testing/CoreTesting.html#testing-core" class="">Core testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ExtensionTesting.html#testing-extensions" class="">Extension testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/ProjectTesting.html#testing-projects" class="">Project testing</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingUnit.html#testing-writing-unit" class="">Writing unit tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingFunctional.html#testing-writing-functional" class="">Writing functional tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/WritingAcceptance.html#testing-writing-acceptance" class="">Writing acceptance tests</a>
                
            </li>
                    <li>
                <a href="guide/Testing/Faq.html#testing-faq" class="">FAQ</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/About.html#about" class="">About This Manual</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="guide/About.html#intended-audience" class="">Intended Audience</a>
                
            </li>
                    <li>
                <a href="guide/About.html#code-examples-1" class="">Code examples</a>
                
            </li>
                    <li>
                <a href="guide/About.html#feedback-and-contribute" class="">Feedback and Contribute</a>
                
            </li>
                    <li>
                <a href="guide/About.html#credits-1" class="">Credits</a>
                
            </li>
                    <li>
                <a href="guide/About.html#dedication-1" class="">Dedication</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/Sitemap.html#sitemap" class="">Sitemap</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/genindex.html#index" class="">Index</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <section>
        
<div class="section" id="model-a-bag-of-tea">
    <h1>Model: a bag of tea</h1>
            <p>We keep the model basic: Each tea can have a title, a description, and an optional image.</p>
            <figure
        class="phpdocumentor-uml-diagram"
            ><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="125px" preserveAspectRatio="none" style="width:110px;height:125px;background:#FFFFFF;" version="1.1" viewBox="0 0 110 125" width="110px" zoomAndPan="magnify"><defs/><g><!--class Tea--><g id="elem_Tea"><rect codeLine="8" fill="#F1F1F1" height="104.8906" id="Tea" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="7" y="7"/><ellipse cx="35.95" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M38.9188,28.6406 Q38.3406,28.9375 37.7,29.0781 Q37.0594,29.2344 36.3563,29.2344 Q33.8563,29.2344 32.5281,27.5938 Q31.2156,25.9375 31.2156,22.8125 Q31.2156,19.6875 32.5281,18.0313 Q33.8563,16.375 36.3563,16.375 Q37.0594,16.375 37.7,16.5313 Q38.3563,16.6875 38.9188,16.9844 L38.9188,19.7031 Q38.2938,19.125 37.7,18.8594 Q37.1063,18.5781 36.4813,18.5781 Q35.1375,18.5781 34.45,19.6563 Q33.7625,20.7188 33.7625,22.8125 Q33.7625,24.9063 34.45,25.9844 Q35.1375,27.0469 36.4813,27.0469 Q37.1063,27.0469 37.7,26.7813 Q38.2938,26.5 38.9188,25.9219 L38.9188,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="53.05" y="27.8467">Tea</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="95" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="13" y="55.9951">title</text><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="95" y1="63.2969" y2="63.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="95" y1="65.2969" y2="65.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="13" y="80.292">description</text><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="95" y1="87.5938" y2="87.5938"/><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="95" y1="89.5938" y2="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="13" y="104.5889">image</text></g><!--SRC=[ZSrB2W8n30RWVKyHy0IAkfk5ZoDuWT2NOTfcIAg3Y7SNYy8iN3IRX3yV2G3eI6L2mGm74PvFd5XWjLllmtPZOBb7M-bEzN5aSLvw8Den2j-A- -BGwZy-4sOkhllup_Vyq2iwdgb429ZK6sCJgiB58pm_4YhLvDiq3AqvhrPegiHb6LF6wCth3G00]--></g></svg></figure>
            <p>The title and description are strings, the image is stored as a relation
to the model class \TYPO3\CMS\Extbase\Domain\Model\FileReference, provided
by Extbase.</p>
    </div>
<div class="section" id="the-database-model">
    <h1>The database model</h1>
            <p>Let us translate this into SQL and store the schema in a file called
ext_tables.sql:</p>
            <pre><code class="language-sql">CREATE TABLE tx_tea_domain_model_product_tea (
    title       varchar(255)     DEFAULT &#039;&#039;  NOT NULL,
    description varchar(2000)    DEFAULT &#039;&#039;  NOT NULL,
    image       int(11) unsigned DEFAULT &#039;0&#039; NOT NULL
);</code></pre>

            <p>The image is stored as an integer. However the field image in the
database does not contains a reference to the image in form of an identifier.</p>
            <p>The field image keeps track of the number of attached images. A separate table,
a so-called MM table, stores the actual relationship. Read about the definition
of this field hereextbase_tutorial_tea_model_columns_image.</p>
            <div class="phpdocumentor-admonition -hint">
                    <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <article>
        <p>If you have had a look at a TYPO3 database before, you might wonderuid, pid,
deleted, etc? The answer is that TYPO3 will generate them automatically
for you.</p>

    </article>
</div>
    </div>
<div class="section" id="tca-table-configuration-array">
    <h1>TCA - Table Configuration Array</h1>
            <p>The TCA tells TYPO3 about the database model. It defines all fields
containing data and all semantic fields that have a special meaning within
TYPO3 (like the deleted field which is used for soft deletion).</p>
            <p>The TCA also defines how the corresponding input fields in the backend should look.</p>
            <p>The TCA is a nested PHP array. In this example, we need the the following
keys on the first level:</p>
            <dl>
                        <dt>ctrl</dt>
        
        <dd>Settings for the complete table, such as a record title, a label
for a single record, default sorting, and the names of some
internal fields.</dd>                        <dt>columns</dt>
        
        <dd>Here we define all fields that can be used for user input in the
backend.</dd>                        <dt>types</dt>
        
        <dd>We only have one type of tea record, however it is mandatory to
describe at least one type. Here we define the order in which
the fields are displayed in the backend.</dd><dd></dd><dd></dd>    </dl>
            <div class="section" id="tca-php-ctrl-settings-for-the-complete-table">
    <h2>TCA ctrl - Settings for the complete table</h2>
            <pre><code class="language-php line-numbers" data-start=1>[
    &#039;ctrl&#039; =&gt; [
        &#039;title&#039; =&gt; &#039;LLL:EXT:tea/Resources/Private/Language/locallang_db.xlf:tx_tea_domain_model_product_tea&#039;,
        &#039;label&#039; =&gt; &#039;title&#039;,
        &#039;tstamp&#039; =&gt; &#039;tstamp&#039;,
        &#039;crdate&#039; =&gt; &#039;crdate&#039;,
        &#039;delete&#039; =&gt; &#039;deleted&#039;,
        &#039;default_sortby&#039; =&gt; &#039;title&#039;,
        &#039;iconfile&#039; =&gt; &#039;EXT:tea/Resources/Public/Icons/Record.svg&#039;,
        &#039;searchFields&#039; =&gt; &#039;title, description&#039;,
    ],
]</code></pre>

            <div class="section" id="php-title">
    <h3>title</h3>
            <p>Defines the title used when we are talking about the table in the backend.
It will be displayed on top of the list view of records in the backend
and in backend forms.</p>
            <figure>
    <img
    src="./Images/ManualScreenshots/ExtensionArchitecture/Tutorials/Tea/TeaTitle.png"
                        />

            
                    <figcaption><p>The <strong>title</strong> of the tea table.</p>
</figcaption>
            </figure>
            <p>Strings starting with LLL: will be replaced with localized text. See chapter
Extension localization. All other strings
will be output as they are. This title will always be output as &quot;Tea&quot; without localization:</p>
            <pre><code class="language-php">[
    &#039;ctrl&#039; =&gt; [
        &#039;title&#039; =&gt; &#039;Tea&#039;,
    ],
]</code></pre>
    </div>
            <div class="section" id="php-label">
    <h3>label</h3>
            <p>The label is used as name for a specific tea record. The name is used
in listings and in backend forms:</p>
            <figure>
    <img
    src="./Images/ManualScreenshots/ExtensionArchitecture/Tutorials/Tea/TeaLabel.png"
                        />

            
                    <figcaption><p>The <strong>label</strong> of a tea record.</p>
</figcaption>
            </figure>
    </div>
            <div class="section" id="php-tstamp-php-deleted">
    <h3>tstamp, deleted, ...</h3>
            <p>These fields are used to keep timestamp and status information for each record. You can read more about them in the TCA Reference, chapter ctrl.</p>
    </div>
    </div>
            <div class="section" id="tca-php-columns-defining-the-fields">
    <h2>TCA columns - Defining the fields</h2>
            <p>All fields that can be changed in the TYPO3 backend or used in the Extbase
model have to be listed here. Otherwise they will not be recognized by TYPO3.</p>
            <p>The title field is defined like this:</p>
            <pre><code class="language-php line-numbers" data-start=1>[
    &#039;columns&#039; =&gt; [
        &#039;title&#039; =&gt; [
            &#039;label&#039; =&gt; &#039;LLL:EXT:tea/Resources/Private/Language/locallang_db.xlf:tx_tea_domain_model_product_tea.title&#039;,
            &#039;config&#039; =&gt; [
                &#039;type&#039; =&gt; &#039;input&#039;,
                &#039;size&#039; =&gt; 40,
                &#039;max&#039; =&gt; 255,
                &#039;eval&#039; =&gt; &#039;trim&#039;,
                &#039;required&#039; =&gt; true,
            ],
        ],
    ],
]</code></pre>

            <p>The title of the field is displayed above the input field. The type is a (string)
input field. The other configuration values influence display (size of the input
field) and or processing on saving ( 'eval' = 'trim' removes whitespace).</p>
            <p>You can find a complete list of available input types and their propererties in
the TCA Reference, chapter "Field types (config  type)".</p>
            <p>The other text fields are defined in a similar manner.</p>
            <div class="section" id="the-php-image-field">
    <h3>The image field</h3>
            <p>As the tea extension always supports two major TYPO3 versions it still uses
the deprecated way of creating an image field in TCA. If your extension only
has to support TYPO3 v12, you should use the field type t3tca:columns-file.</p>
            <p>The image field is a special case, as it is created by a call to the API function
\TYPO3\CMS\Core\Utility\ExtensionManagementUtility::getFileFieldTCAConfig().
This method returns a preconfigured array, and saves you from writing a long and complicated configuration array.</p>
            <pre><code class="language-php">[
    &#039;columns&#039; =&gt; [
        &#039;image&#039; =&gt; [
            &#039;label&#039; =&gt; &#039;LLL:EXT:tea/Resources/Private/Language/locallang_db.xlf:tx_tea_domain_model_product_tea.image&#039;,
            &#039;config&#039; =&gt; \TYPO3\CMS\Core\Utility\ExtensionManagementUtility::getFileFieldTCAConfig(
                &#039;image&#039;,
                [
                    &#039;maxitems&#039; =&gt; 1,
                    &#039;appearance&#039; =&gt; [
                        &#039;collapseAll&#039; =&gt; true,
                        &#039;useSortable&#039; =&gt; false,
                        &#039;enabledControls&#039; =&gt; [
                            &#039;hide&#039; =&gt; false,
                        ],
                    ],
                ]
            ),
        ],
    ],
];</code></pre>
            <div class="phpdocumentor-admonition -tip">
                    <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <article>
        <p>Do not worry about performance caused by the API call, the TCA files are
cached in compiled form.</p>

    </article>
</div>
            <p>The array generated by the method
ExtensionManagementUtility::getFileFieldTCAConfig() looks like this:</p>
            <pre><code class="language-php line-numbers" data-start=1>[
    &#039;columns&#039; =&gt; [
        &#039;image&#039; =&gt; [
            &#039;label&#039; =&gt; &#039;LLL:EXT:tea/Resources/Private/Language/locallang_db.xlf:tx_tea_domain_model_product_tea.image&#039;,
            &#039;config&#039; =&gt; [
                &#039;type&#039; =&gt; &#039;file&#039;,
                &#039;maxitems&#039; =&gt; 1,
                &#039;appearance&#039; =&gt; [
                    &#039;collapseAll&#039; =&gt; true,
                    &#039;useSortable&#039; =&gt; false,
                    &#039;enabledControls&#039; =&gt; [
                        &#039;hide&#039; =&gt; false,
                    ],
                ],
                &#039;allowed&#039; =&gt; &#039;common-image-types&#039;,
            ],
        ],
    ],
]</code></pre>

            <p>You are probably happy that this was generated for you and that you did not have to type it
yourself.</p>
    </div>
    </div>
            <div class="section" id="tca-php-types-configure-the-input-form">
    <h2>TCA types - Configure the input form</h2>
            <pre><code class="language-php line-numbers" data-start=1>[
    &#039;types&#039; =&gt; [
        1 =&gt; [
            &#039;showitem&#039; =&gt; &#039;title, description, image&#039;,
        ],
    ],
]</code></pre>

            <p>The key showitem lists all fields that should be displayed in the
backend input form, in the order they should be displayed.</p>
            <div class="phpdocumentor-admonition -hint">
                    <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            <article>
        <p>There are more sophisticated ways to influence how the fields are displayedTCA reference, showitem for
details.</p>

    </article>
</div>
    </div>
            <div class="section" id="result-the-complete-tca">
    <h2>Result - the complete TCA</h2>
            <p>Have a look at the complete file
<a href="https://github.com/TYPO3-Documentation/tea/blob/main/Configuration/TCA/tx_tea_domain_model_product_tea.php">EXT:tea/Configuration/TCA/tx_tea_domain_model_product_tea.php</a>.</p>
            <p>Now the edit form for tea records will look like this:</p>
            <figure>
    <img
    src="./Images/ManualScreenshots/ExtensionArchitecture/Tutorials/Tea/TeaEditForm.png"
                        />

            
                    <figcaption><p>The complete input form for a tea record.</p>
</figcaption>
            </figure>
            <p>The list of teas in the module Web - List looks like this:</p>
            <figure>
    <img
    src="./Images/ManualScreenshots/ExtensionArchitecture/Tutorials/Tea/TeaList.png"
                        />

            
                    <figcaption><p>A list of teas in the backend.</p>
</figcaption>
            </figure>
            <div class="phpdocumentor-admonition -note">
            <svg class="phpdocumentor-admonition__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                    <article>
        <p>Up to this point we have only used TYPO3 Core features. You can create
tables and backend forms exactly the same way without using Extbase.</p>

    </article>
</div>
    </div>
    </div>
<div class="section" id="the-extbase-model">
    <h1>The Extbase model</h1>
            <p>It is a common practice — though not mandatory — to use PHP objects to store the
data while working on it.</p>
            <p>The model is a more abstract representation of the database schema. It provides more advanced data types, way beyond what the database itself can offer. The model can also be used to define validators for the model properties
and to specify relationship types and rules (should relations be loaded
lazily? Should they be deleted if this object is deleted?).</p>
            <p>Extbase models extend the
TYPO3\CMS\Extbase\DomainObject\AbstractEntity class.
The parent classes of this class already offer methods needed for persistence
to database, the identifier uid etc.</p>
            <pre><code class="language-php">use TYPO3\CMS\Extbase\Annotation\ORM\Lazy;
use TYPO3\CMS\Extbase\Domain\Model\FileReference;
use TYPO3\CMS\Extbase\Persistence\Generic\LazyLoadingProxy;

/**
 * This class represents a tea (flavor), e.g., &quot;Earl Grey&quot;.
 */
class Tea extends AbstractEntity
{
    protected string $title = &#039;&#039;;

    protected string $description = &#039;&#039;;

    /**
     * @phpstan-var \TYPO3\CMS\Extbase\Domain\Model\FileReference|LazyLoadingProxy|null
     * @var \TYPO3\CMS\Extbase\Domain\Model\FileReference|null
     * @Lazy
     */
    protected $image;
}</code></pre>

            <dl>
                        <dt>All properties of the model have to have the visibility keyword protected or</dt>
        
        <dd><p>public. private properties are not supported, as properties have to
be accessed by the repository and persistence and layers internally.</p><p>If you want to prevent developers from extending you model, and
accessing the properties of you model, you can make the class of the model
final.</p></dd>    </dl>
            <p>For all protected properties we need at least a getter with the corresponding
name. If the property should be writable within Extbase, it must also
have a getter. Properties that are only set in backend forms do not
need a setter.</p>
            <p>Example for the property title:</p>
            <pre><code class="language-php">class Tea extends AbstractEntity
{
    protected string $title = &#039;&#039;;

    public function getTitle(): string
    {
        return $this-&gt;title;
    }

    public function setTitle(string $title): void
    {
        $this-&gt;title = $title;
    }
}</code></pre>

            <p>The getter for the image also has to resolve the lazy loading:</p>
            <pre><code class="language-php">use TYPO3\CMS\Extbase\Annotation\ORM\Lazy;
use TYPO3\CMS\Extbase\Domain\Model\FileReference;
use TYPO3\CMS\Extbase\Persistence\Generic\LazyLoadingProxy;

class Tea extends AbstractEntity
{
    /**
     * @phpstan-var \TYPO3\CMS\Extbase\Domain\Model\FileReference|LazyLoadingProxy|null
     * @var \TYPO3\CMS\Extbase\Domain\Model\FileReference|null
     * @Lazy
     */
    protected $image;

    public function getImage(): ?FileReference
    {
        if ($this-&gt;image instanceof LazyLoadingProxy) {
            /** @var FileReference $image */
            $image = $this-&gt;image-&gt;_loadRealInstance();
            $this-&gt;image = $image;
        }

        return $this-&gt;image;
    }

    public function setImage(FileReference $image): void
    {
        $this-&gt;image = $image;
    }
}</code></pre>

            <p>See the complete
<a href="https://github.com/TYPO3-Documentation/tea/blob/main/Classes/Domain/Model/Product/Tea.php">class on Github: Tea</a>.</p>
    </div>
<div class="section" id="next-steps">
    <h1>Next steps</h1>
            

<ul>
    <li>The repository - Query for tea</li>
</ul>
    </div>

    </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/ExtensionArchitecture/Tutorials/Tea/Model.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>